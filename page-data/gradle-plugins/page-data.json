{"componentChunkName":"component---src-templates-post-jsx","path":"/gradle-plugins/","result":{"data":{"site":{"siteMetadata":{"title":"ppeper🥤"}},"markdownRemark":{"id":"244fd5c9-8667-5481-b19c-f2b02445aed8","excerpt":"Gradle에서 최근에 많이 사용하는 버전관리는  를 통하여 하고 있다. 결국 version-catalog, BuildSrc 등은 의존성 버전, 관리에 대한 재사용성을 높여주고 멀티 모듈을 구성하게 되면 공통적으로 사용되는 코드 작성을 줄여주게 된다. 이번에 Now in Android 예시 프로젝트를 보면서 build-logic이 적용되어 있는 모듈을 한…","html":"<img src='https://github.com/ppeper/Kotlin_Algorithm/assets/63226023/ecbbb8e9-4775-4847-8485-76ef893b3453'>\n<p>Gradle에서 최근에 많이 사용하는 버전관리는 <code class=\"language-text\">version-catalog</code> 를 통하여 하고 있다. 결국 version-catalog, BuildSrc 등은 의존성 버전, 관리에 대한 재사용성을 높여주고 멀티 모듈을 구성하게 되면 공통적으로 사용되는 코드 작성을 줄여주게 된다.</p>\n<p>이번에 Now in Android 예시 프로젝트를 보면서 build-logic이 적용되어 있는 모듈을 한번 구성해 보면서 기본 프로젝트 생성시에 Android, Compose에 대한 Convention Plugin을 생성해보려고 한다.</p>\n<hr>\n<h1 id=\"Convention-Plugin-생성하기\" style=\"position:relative;\"><a href=\"#Convention-Plugin-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"Convention Plugin 생성하기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>Convention Plugin 생성하기</h1>\n<p>최근 안드로이드 스튜디오에서는 version-catalog가 적용된 프로젝트로 생성이 가능하다. 해당 프로젝트를 생성 후 <code class=\"language-text\">build-logic</code> 으로 plugin 들을 관리할 모듈을 추가한다.</p>\n<p><code class=\"language-text\">settings.gradle.kts(Project Settings)</code> 에서 기본적으로 모듈이 추가되었을 때 자동 include되는 <code class=\"language-text\">include(\":build-logic\")</code> 의 경우는 삭제해 주고 <strong>build-logic</strong> 에 convention 모듈을 하나 더 생성하여 사용하기 때문에 <code class=\"language-text\">includeBuild(\"build-logic\")</code> 을 추가해 준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">pluginManagement <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 추가 되는 내용</span>\n    <span class=\"token function\">includeBuild</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"build-logic\"</span></span><span class=\"token punctuation\">)</span>\n    repositories <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">google</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">gradlePluginPortal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\ndependencyResolutionManagement <span class=\"token punctuation\">{</span>\n    repositoriesMode<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span>RepositoriesMode<span class=\"token punctuation\">.</span>FAIL_ON_PROJECT_REPOS<span class=\"token punctuation\">)</span>\n    repositories <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">google</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nrootProject<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"ConventionPlugin\"</span></span>\n<span class=\"token function\">include</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\":app\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// include(\"build-logic\") 삭제</span></code></pre></div>\n<p>build-logic 모듈에 <code class=\"language-text\">convention</code> 모듈(java or kotlin library)을 추가해주고 root에 <code class=\"language-text\">settins.gradle.kts</code> 파일을 다음과 같이 추가해 준다. (convention 모듈이 추가되었을 때 <code class=\"language-text\">include(\":build-logic:convention\")</code> 는 동일하게 삭제해 준다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// settins.gradle.kts</span>\ndependencyResolutionManagement <span class=\"token punctuation\">{</span>\n    repositories <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">google</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    versionCatalogs <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"libs\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token function\">files</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"../gradle/libs.versions.toml\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nrootProject<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"build-logic\"</span></span>\n<span class=\"token function\">include</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\":convention\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<img src='https://github.com/ppeper/Kotlin_Algorithm/assets/63226023/7bc87c15-08ef-4e9b-8a30-fea9581138e5'>\n<p>lib.versions.toml 파일에 아래의 버전을 추가하고 이를 build-logic:convention의 build.gradle.kts에 아래와 같이 수정한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\">// libs<span class=\"token punctuation\">.</span>versions<span class=\"token punctuation\">.</span>toml\n<span class=\"token key property\">androidGradlePlugin</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"8.1.4\"</span>\n<span class=\"token key property\">androidTools</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"31.2.0\"</span>\n<span class=\"token key property\">kotlin</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"1.9.10\"</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token comment\"># Dependencies of the included build-logic</span>\n<span class=\"token key property\">android-gradlePlugin</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">group</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"com.android.tools.build\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"gradle\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"androidGradlePlugin\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token key property\">android-tools-common</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">group</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"com.android.tools\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"common\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"androidTools\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token key property\">kotlin-gradlePlugin</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">group</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"org.jetbrains.kotlin\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"kotlin-gradle-plugin\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"kotlin\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// build.gradle.kts</span>\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"DSL_SCOPE_VIOLATION\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TODO: Remove once KTIJ-19369 is fixed</span>\nplugins <span class=\"token punctuation\">{</span>\n    `kotlin<span class=\"token operator\">-</span>dsl`\n<span class=\"token punctuation\">}</span>\n\njava <span class=\"token punctuation\">{</span>\n    sourceCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n    targetCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">.</span>gradlePlugin<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">.</span>tools<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>kotlin<span class=\"token punctuation\">.</span>gradlePlugin<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>다음으로 Android의 기본 세팅을 도와주는 Extension 파일인 <code class=\"language-text\">KotlinAndroid.kt</code> 파일과 Compose 세팅을 위한 <code class=\"language-text\">AndroidCompose.kt</code> 파일을 생성해 준다.</p>\n<img src='https://github.com/ppeper/Kotlin_Algorithm/assets/63226023/3b3e5521-3677-4238-9dab-795971204841'>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// KotlinAndroid.kt</span>\n\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">fun</span> Project<span class=\"token punctuation\">.</span><span class=\"token function\">configureKotlinAndroid</span><span class=\"token punctuation\">(</span>\n    commonExtension<span class=\"token operator\">:</span> CommonExtension<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    commonExtension<span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n        compileSdk <span class=\"token operator\">=</span> <span class=\"token number\">34</span>\n\n        defaultConfig <span class=\"token punctuation\">{</span>\n            minSdk <span class=\"token operator\">=</span> <span class=\"token number\">26</span>\n\n            testInstrumentationRunner <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"android.support.test.runner.AndroidJUnitRunner\"</span></span>\n            vectorDrawables<span class=\"token punctuation\">.</span>useSupportLibrary <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n\n        compileOptions <span class=\"token punctuation\">{</span>\n            sourceCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n            targetCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n        <span class=\"token punctuation\">}</span>\n\n        kotlinOptions <span class=\"token punctuation\">{</span>\n            jvmTarget <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> CommonExtension<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token operator\">></span><span class=\"token punctuation\">.</span><span class=\"token function\">kotlinOptions</span><span class=\"token punctuation\">(</span>block<span class=\"token operator\">:</span> KotlinJvmOptions<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span> <span class=\"token keyword\">as</span> ExtensionAware<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>extensions<span class=\"token punctuation\">.</span><span class=\"token function\">configure</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"kotlinOptions\"</span></span><span class=\"token punctuation\">,</span> block<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// AndroidCompose.kt</span>\n<span class=\"token comment\">// 기본적으로 프로젝트 생성시 적용되어있는 libs.versions.toml 파일에 있는 compose 관련 라이브러리 추가</span>\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">fun</span> Project<span class=\"token punctuation\">.</span><span class=\"token function\">configureAndroidCompose</span><span class=\"token punctuation\">(</span>\n    commonExtension<span class=\"token operator\">:</span> CommonExtension<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    commonExtension<span class=\"token punctuation\">.</span><span class=\"token function\">apply</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> libs <span class=\"token operator\">=</span> extensions<span class=\"token punctuation\">.</span>getByType<span class=\"token operator\">&lt;</span>VersionCatalogsExtension<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">named</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"libs\"</span></span><span class=\"token punctuation\">)</span>\n\n        buildFeatures<span class=\"token punctuation\">.</span>compose <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\n        composeOptions <span class=\"token punctuation\">{</span>\n            kotlinCompilerExtensionVersion <span class=\"token operator\">=</span>\n                libs<span class=\"token punctuation\">.</span><span class=\"token function\">findVersion</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"androidxComposeCompiler\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        dependencies <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">val</span> bom <span class=\"token operator\">=</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"compose-bom\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token function\">platform</span><span class=\"token punctuation\">(</span>bom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"androidTestImplementation\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token function\">platform</span><span class=\"token punctuation\">(</span>bom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"activity-compose\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ui\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ui-graphics\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ui-tooling\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ui-tooling-preview\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"material3\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"implementation\"</span></span><span class=\"token punctuation\">,</span> libs<span class=\"token punctuation\">.</span><span class=\"token function\">findLibrary</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ui-test-manifest\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// libs.versions.tomal</span>\nandroidxComposeCompiler <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.5.3\"</span></span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">[</span>libraries<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\ncompose<span class=\"token operator\">-</span>bom <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> group <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"androidx.compose\"</span></span><span class=\"token punctuation\">,</span> name <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"compose-bom\"</span></span><span class=\"token punctuation\">,</span> version<span class=\"token punctuation\">.</span>ref <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"compose-bom\"</span></span> <span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"Convention-Plugin-추가\" style=\"position:relative;\"><a href=\"#Convention-Plugin-%EC%B6%94%EA%B0%80\" aria-label=\"Convention Plugin 추가 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>Convention Plugin 추가</h2>\n<p>이제 convention 모듈에서 build.gradle 설정 plugin인 <code class=\"language-text\">AndroidApplicationPlugin</code>, <code class=\"language-text\">AndroidApplicationComposePlugin</code> 파일을 추가해 준다.</p>\n<img src='https://github.com/ppeper/Kotlin_Algorithm/assets/63226023/524a0acb-2727-49b4-a832-842eb3349fc3'>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// AndroidApplicationPlugin.kt</span>\n<span class=\"token keyword\">class</span> AndroidApplicationPlugin<span class=\"token operator\">:</span> Plugin<span class=\"token operator\">&lt;</span>Project<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Project<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">with</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">with</span><span class=\"token punctuation\">(</span>pluginManager<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"com.android.application\"</span></span><span class=\"token punctuation\">)</span>\n                <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.jetbrains.kotlin.android\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n\n            extensions<span class=\"token punctuation\">.</span>configure<span class=\"token operator\">&lt;</span>ApplicationExtension<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// 앞서 생성한 Android setting을 도와주는 extention</span>\n                <span class=\"token function\">configureKotlinAndroid</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n                defaultConfig <span class=\"token punctuation\">{</span>\n                    versionCode <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n                    versionName <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.0\"</span></span>\n                    targetSdk <span class=\"token operator\">=</span> <span class=\"token number\">34</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>   \n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// AndroidApplicationComposePlugin.kt</span>\n<span class=\"token keyword\">class</span> AndroidApplicationComposePlugin<span class=\"token operator\">:</span> Plugin<span class=\"token operator\">&lt;</span>Project<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>target<span class=\"token operator\">:</span> Project<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">with</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            pluginManager<span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"com.android.application\"</span></span><span class=\"token punctuation\">)</span>\n\n            extensions<span class=\"token punctuation\">.</span>configure<span class=\"token operator\">&lt;</span>ApplicationExtension<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// 앞서 생성한 Compose setting을 도와주는 extension</span>\n               <span class=\"token function\">configureAndroidCompose</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이번 예제에서는 두 가지의 Plugin들만 추가하였지만 여러가지 Hilt, Room과 같은 라이브러리들을 관리해주도록 필요할 때마다 추가하여 관리하면 된다.</p>\n<p>이제 만들어진 Plugin들을 build.gradle파일에 세팅을 해주면 사용준비가 완료된다!</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">.</span>\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">.</span>gradlePlugin<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">.</span>tools<span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">compileOnly</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>kotlin<span class=\"token punctuation\">.</span>gradlePlugin<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ngradlePlugin <span class=\"token punctuation\">{</span>\n    plugins <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"AndroidApplicationPlugin\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            id <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"ppeper.example.application\"</span></span>\n            implementationClass <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"AndroidApplicationPlugin\"</span></span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    plugins <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">register</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"AndroidApplicationComposePlugin\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            id <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"ppeper.example.compose\"</span></span>\n            implementationClass <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"AndroidApplicationComposePlugin\"</span></span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>여기서 id의 값은 플러그인 이름으로 사용하고 싶은 이름으로 지정하면 되고, implementationClass는 매칭되는 해당 Class의 이름이다.</p>\n<h2 id=\"사용하기\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"사용하기 permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>사용하기</h2>\n<p>app 모듈에서 Android, Compose 세팅을 위해 생성한 Plugin을 도입하면 아래와 같이 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// Before</span>\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"DSL_SCOPE_VIOLATION\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TODO: Remove once KTIJ-19369 is fixed</span>\nplugins <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alias</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">.</span>application<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">alias</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>org<span class=\"token punctuation\">.</span>jetbrains<span class=\"token punctuation\">.</span>kotlin<span class=\"token punctuation\">.</span>android<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nandroid <span class=\"token punctuation\">{</span>\n    namespace <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"com.ppeper.conventionplugin\"</span></span>\n    compileSdk <span class=\"token operator\">=</span> <span class=\"token number\">34</span>\n\n    defaultConfig <span class=\"token punctuation\">{</span>\n        applicationId <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"com.ppeper.conventionplugin\"</span></span>\n        minSdk <span class=\"token operator\">=</span> <span class=\"token number\">24</span>\n        targetSdk <span class=\"token operator\">=</span> <span class=\"token number\">34</span>\n        versionCode <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        versionName <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.0\"</span></span>\n\n        testInstrumentationRunner <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"androidx.test.runner.AndroidJUnitRunner\"</span></span>\n        vectorDrawables <span class=\"token punctuation\">{</span>\n            useSupportLibrary <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    buildTypes <span class=\"token punctuation\">{</span>\n        release <span class=\"token punctuation\">{</span>\n            isMinifyEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n            <span class=\"token function\">proguardFiles</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">getDefaultProguardFile</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"proguard-android-optimize.txt\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-literal singleline\"><span class=\"token string\">\"proguard-rules.pro\"</span></span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    compileOptions <span class=\"token punctuation\">{</span>\n        sourceCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n        targetCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n    <span class=\"token punctuation\">}</span>\n    kotlinOptions <span class=\"token punctuation\">{</span>\n        jvmTarget <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.8\"</span></span>\n    <span class=\"token punctuation\">}</span>\n    buildFeatures <span class=\"token punctuation\">{</span>\n        compose <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n    composeOptions <span class=\"token punctuation\">{</span>\n        kotlinCompilerExtensionVersion <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.4.3\"</span></span>\n    <span class=\"token punctuation\">}</span>\n    packaging <span class=\"token punctuation\">{</span>\n        resources <span class=\"token punctuation\">{</span>\n            excludes <span class=\"token operator\">+=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"/META-INF/{AL2.0,LGPL2.1}\"</span></span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>ktx<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>lifecycle<span class=\"token punctuation\">.</span>runtime<span class=\"token punctuation\">.</span>ktx<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>activity<span class=\"token punctuation\">.</span>compose<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token function\">platform</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>compose<span class=\"token punctuation\">.</span>bom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>graphics<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>tooling<span class=\"token punctuation\">.</span>preview<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>material3<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>androidx<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>ext<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>espresso<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span><span class=\"token function\">platform</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>compose<span class=\"token punctuation\">.</span>bom<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>junit4<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">debugImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>tooling<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">debugImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>manifest<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// plugin 적용 후</span>\n<span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"DSL_SCOPE_VIOLATION\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TODO: Remove once KTIJ-19369 is fixed</span>\nplugins <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ppeper.example.application\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"ppeper.example.compose\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nandroid <span class=\"token punctuation\">{</span>\n    namespace <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"com.ppeper.conventionplugin\"</span></span>\n\n    buildTypes <span class=\"token punctuation\">{</span>\n        release <span class=\"token punctuation\">{</span>\n            isMinifyEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n            <span class=\"token function\">proguardFiles</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">getDefaultProguardFile</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"proguard-android-optimize.txt\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token string-literal singleline\"><span class=\"token string\">\"proguard-rules.pro\"</span></span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    packaging <span class=\"token punctuation\">{</span>\n        resources <span class=\"token punctuation\">{</span>\n            excludes <span class=\"token operator\">+=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"/META-INF/{AL2.0,LGPL2.1}\"</span></span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 기존에 있는 compose 라이브러리들은 삭제 가능</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">.</span>ktx<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>lifecycle<span class=\"token punctuation\">.</span>runtime<span class=\"token punctuation\">.</span>ktx<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>androidx<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>ext<span class=\"token punctuation\">.</span>junit<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>espresso<span class=\"token punctuation\">.</span>core<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">androidTestImplementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>ui<span class=\"token punctuation\">.</span>test<span class=\"token punctuation\">.</span>junit4<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Convention Plugin들을 생성하고 적용해 보면서 멀티모듈을 구성할때 각 필요한 라이브러리를 plugin들로 관리하면 새로운 모듈이 추가될때 재사용성 있고 중복코드 없이 관리 할 수 있어 한번 적용을 해보면 좋겠다 생각이 들었다.</p>\n<hr>\n<h1 id=\"References\" style=\"position:relative;\"><a href=\"#References\" aria-label=\"References permalink\" class=\"heading-anchor before\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"15\" height=\"15\" viewBox=\"0 0 24 24\"><path d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\"/></svg></a>References</h1>\n<ul>\n<li><a href=\"https://brunch.co.kr/@purpledev/46\">https://brunch.co.kr/@purpledev/46</a></li>\n<li><a href=\"https://github.com/android/nowinandroid\">https://github.com/android/nowinandroid</a></li>\n</ul>","frontmatter":{"title":"Gradle Convention Plugin 생성 및 적용하기","date":"December 26, 2023","update":"December 26, 2023","tags":["Version Catalog"],"series":"Gradle"},"fields":{"slug":"/gradle-plugins/","readingTime":{"minutes":6.615}}},"seriesList":{"edges":[{"node":{"id":"244fd5c9-8667-5481-b19c-f2b02445aed8","fields":{"slug":"/gradle-plugins/"},"frontmatter":{"title":"Gradle Convention Plugin 생성 및 적용하기"}}}]},"previous":{"fields":{"slug":"/android-webview/"},"frontmatter":{"title":"안드로이드 WebView로 웹과 놀기"}},"next":{"fields":{"slug":"/goodbye-2023/"},"frontmatter":{"title":"2023년 한해 회고록"}}},"pageContext":{"id":"244fd5c9-8667-5481-b19c-f2b02445aed8","series":"Gradle","previousPostId":"d8ca9764-c28e-5491-b2d6-0f1fe3814612","nextPostId":"3cbf6d19-48fa-5a8b-b1ef-bc34487fb600"}},"staticQueryHashes":[],"slicesMap":{}}