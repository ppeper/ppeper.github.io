{"componentChunkName":"component---src-templates-post-jsx","path":"/android-context/","result":{"data":{"site":{"siteMetadata":{"title":"ppeper🥤"}},"markdownRemark":{"id":"7fddf3e0-5c6a-5813-b716-8b9348184adb","excerpt":"Context?? 안드로이드 개발시 의 사용은 거의 모든 곳에서 사용되며 필자 또한 당연하게 생각하고 사용하였다.  를 자세하게 알고 사용하지 못하면 안드로이드 어플리케이션 개발시 메모리 누수가 쉽게 발생할 수 있다고 하여 제대로 정리를 하려고 한다. 안드로이드에서 Context(문맥, 맥락)는 현재 사용되고 있는 앱에 대한 전역 환경 정보 라고 한다. …","html":"<hr>\n<h1>Context??</h1>\n<p>안드로이드 개발시 <code class=\"language-text\">Context</code>의 사용은 거의 모든 곳에서 사용되며 필자 또한 당연하게 생각하고 사용하였다. </p>\n<p><code class=\"language-text\">Context</code>를 자세하게 알고 사용하지 못하면 안드로이드 어플리케이션 개발시 메모리 누수가 쉽게 발생할 수 있다고 하여 제대로 정리를 하려고 한다.</p>\n<p>안드로이드에서 Context(문맥, 맥락)는 <strong>현재 사용되고 있는 앱에 대한 전역 환경 정보</strong> 라고 한다.</p>\n<ul>\n<li>Application의 현재의 상태(맥락)을 나타낸다.</li>\n<li>Application, Activity의 정보를 얻기 위해 사용한다.</li>\n<li>Resources, DB, SharedPreferences에 접근할 때 사용된다.</li>\n<li>Context class는 Activity, Application class의 부모 클래스이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">    <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span>applicationContext<span class=\"token punctuation\">,</span>ExampleActivity<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span>baseContext<span class=\"token punctuation\">,</span> ExampleActivity<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span>application<span class=\"token punctuation\">,</span> ExampleActivity<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span>\n    <span class=\"token function\">Intent</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token label symbol\">@MainActivity</span><span class=\"token punctuation\">,</span> ExampleActivity<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">.</span>java<span class=\"token punctuation\">)</span></code></pre></div>\n<p>안드로이드 많이쓰이는 <code class=\"language-text\">Intent 객체</code> 에서 파라미터로 Context를 넘겨주는데 이 예시에서도 이렇게 <strong>applicationContext</strong>, <strong>baseContext</strong>, <strong>application</strong>, <strong>this@액티비티</strong> 가 있다. <del>(그래서 다들 뭐가 다른건데...ㅜㅜ)</del> -> Context에 대해서 제대로 알아보자!!</p>\n<hr>\n<h1>자주 사용하는 Context의 종류</h1>\n<ul>\n<li><strong>Application Context</strong>: Application에 관한 정보를 담은 Context</li>\n<li><strong>Activity Context</strong>: Activity 관한 정보를 담은 Context, -> Activity마다 존재한다</li>\n</ul>\n<h2>- Application Context</h2>\n<p>Application Context는 싱글톤 객체로 존재하고 kotlin에서는 <code class=\"language-text\">applicationContext</code>라는 함수로 접근이 가능하다. 이 Context는 어플리케이션 내 생명주기와 바인딩이 되어있다. </p>\n<p>Application Context는 라이프사이클이 현재 Context와 분리된 Context가 필요하거나 활동 범위를 넘어 Context를 전달할 때 사용할 수 있다. -> 이 객체에 Activity Context를 넘겨주면 Application이 실행되는 동안에는 Activity에서 참조가 계속 발생하여 가비지 콜렉팅이 되지않아 <strong>메모리 누수</strong> 가 일어나게 된다!</p>\n<p>한 예시로 Room을 사용하기위해 초기화할때 Context가 필요한대 이때 applicationContext를 사용한다. 그 이유는 Room은 어플리케이션이 실행되는동안 지속적으로 사용되는 <strong>싱글톤</strong> 객체이기 때문에 <code class=\"language-text\">applicationContext</code>을 사용하는 것이다.</p>\n<h2>- Activity Context</h2>\n<p>Activity Context는 반대로 Activity의 생명주기와 바인딩이 되어있다. 따라서 활동 범위내에서 Context를 넘겨주거나 현재 Context의 생명주기와 연결된 Context가 필요할때 사용된다.</p>\n<p>한 예시로 안드로이드에서 Dialog를 사용한다고 하였을때 이는 activity내에서만 사용이 되는 경우일 것이다. 이 경우 Application Context를 사용하면 불필요한 메모리 누수가 일어날 것이다. 따라서 이경우 <strong>Activity Context</strong> 를 사용하는 것이 좋을 것이다.</p>\n<blockquote>\n<p>정리: <strong>어플리케이션내</strong> 에서 초기화를 해야하거나 <strong>싱글톤</strong> 객체를 초기화할때는 <code class=\"language-text\">Application Context</code>를 Activity에서 사용되는 UI 컨트롤러 객체(예시: Toast)들은 Activity Context를 사용하는 것을 권장한다.</p>\n</blockquote>\n<hr>\n<p>이제 Context에 대해서 알게되었으니 위의 예시에서의 <strong>applicationContext</strong>, <strong>baseContext</strong>, <strong>application</strong>, <strong>this@액티비티</strong> 를  나누어 보자!!</p>\n<ul>\n<li>\n<p><strong>Application Context</strong></p>\n<ul>\n<li>applicationContext, application: 현재 활성화된 액티비티만이 아닌 Application 전체에 대한 Context가 필요할때 사용.</li>\n</ul>\n</li>\n<li>\n<p><strong>Activity Context</strong></p>\n<ul>\n<li>baseContext: 다른 컨텍스트로부터 어떤 컨텍스트에 접근해야하는경우에 ContextWrapper를 쓴다. ContextWrapper 내부에서 참조 된 Context는 baseContext를 통해 액세스된다.</li>\n<li>this@: View.getContext()와 같으며 현재 실행되고 있는 View의 Context를 return하는데 보통 현재의 Activity의 Context가 된다.</li>\n</ul>\n</li>\n</ul>\n<h1>Rule of Thumb</h1>\n<p>대부분의 경우 현재의 스코프에 맞는 Context를 사용하면 된다. 해당 Context 참조가 현재 생명주기에 넘어서지 않는 지만 판단해서 대입하면 된다. Activity, Service를 넘어서 다른 객체에서 Context를 참조해야하는 경우는 Application Context의 사용을 권장한다.</p>\n<h1>References</h1>\n<ul>\n<li><a href=\"https://velog.io/@l2hyunwoo/Context-In-Android\">[번역] 안드로이드 Context(컨텍스트)이해하기</a></li>\n<li><a href=\"https://rejrecords.wordpress.com/2015/07/23/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%EC%97%90%EC%84%9C-context%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C/\">안드로이드에서 Context란 무엇일까</a></li>\n<li><a href=\"https://blog.mindorks.com/understanding-context-in-android-application-330913e32514\">Understanding Context In Android Application</a></li>\n</ul>","frontmatter":{"title":"안드로이드 Context의 개념","date":"January 17, 2022","update":"January 17, 2022","tags":["Android","Context"],"series":"Android"},"fields":{"slug":"/android-context/","readingTime":{"minutes":5.23}}},"seriesList":{"edges":[{"node":{"id":"ec35f26c-1e41-5966-85a5-26fa93fb5998","fields":{"slug":"/android-start/"},"frontmatter":{"title":"첫 안드로이드 개발에 대한 회고"}}},{"node":{"id":"f0d5a7a2-4729-582b-85a5-b78dd0643477","fields":{"slug":"/lifecycle/"},"frontmatter":{"title":"안드로이드 Lifecycle 제대로 알기"}}},{"node":{"id":"c38cf2b3-111e-5e83-8623-c323546b3596","fields":{"slug":"/fragment/"},"frontmatter":{"title":"안드로이드 Fragment 사용"}}},{"node":{"id":"d0d74ae8-e541-598a-a0c8-30dbf6d27c14","fields":{"slug":"/intent/"},"frontmatter":{"title":"안드로이드 인텐트의 개념"}}},{"node":{"id":"7fddf3e0-5c6a-5813-b716-8b9348184adb","fields":{"slug":"/android-context/"},"frontmatter":{"title":"안드로이드 Context의 개념"}}},{"node":{"id":"da53b090-256e-5185-877e-1c63d36292dd","fields":{"slug":"/recyclerview/"},"frontmatter":{"title":"안드로이드 4대 컴포넌트란"}}},{"node":{"id":"76b96463-5dc0-5bce-9411-653b728c0d07","fields":{"slug":"/broadcast/"},"frontmatter":{"title":"안드로이드 브로드캐스트(Broadcast)"}}},{"node":{"id":"31f9951e-cfe2-5831-9791-bdd8a3f321f2","fields":{"slug":"/android-service/"},"frontmatter":{"title":"안드로이드 서비스(Service) 개요"}}},{"node":{"id":"9f0c308a-f26f-5882-b1c0-603d65208794","fields":{"slug":"/pendingintent/"},"frontmatter":{"title":"안드로이드 PendingIntent의 개념"}}},{"node":{"id":"6d7acb66-c296-5cb4-a56d-a6141652ba03","fields":{"slug":"/notification/"},"frontmatter":{"title":"안드로이드 알림(Notification) 만들기"}}},{"node":{"id":"dd38b1c0-3bb7-5d67-9871-c8a997f7665a","fields":{"slug":"/android-jetpack/"},"frontmatter":{"title":"안드로이드 Jetpack에 대해"}}},{"node":{"id":"4ae3792b-61e4-502c-997f-ea92464eb538","fields":{"slug":"/android-acc/"},"frontmatter":{"title":"안드로이드 MVVM 패턴과 ACC 알아보기"}}},{"node":{"id":"07f0687c-2335-5ce9-adbf-a9e3fdcdb964","fields":{"slug":"/viewmodel/"},"frontmatter":{"title":"안드로이드 Jetpack의 ViewModel 사용해보기"}}},{"node":{"id":"08c0cd05-8fe6-5461-8c79-629efa4d3099","fields":{"slug":"/livedata/"},"frontmatter":{"title":"안드로이드 Jetpack의 LiveData 적용하기"}}},{"node":{"id":"cd2c8fe7-7aa9-53d0-a66c-0157b8f0fdb5","fields":{"slug":"/databinding/"},"frontmatter":{"title":"안드로이드 DataBinding + LiveData 적용하기"}}},{"node":{"id":"567749b8-f03e-5f18-bf62-021e32de6506","fields":{"slug":"/coroutine/"},"frontmatter":{"title":"안드로이드 코루틴의 기초 알아보기"}}},{"node":{"id":"92a49d11-9d7c-5fc9-b5f7-9575ee1886ea","fields":{"slug":"/room-database/"},"frontmatter":{"title":"안드로이드 Room 사용하면서 알아보기"}}},{"node":{"id":"9b4e8bd5-b184-5972-b687-b5a509707a35","fields":{"slug":"/android-dagger2/"},"frontmatter":{"title":"안드로이드 Dagger2 맛보기"}}},{"node":{"id":"f3e41032-8577-5a04-bb96-62be1e0aaf4b","fields":{"slug":"/android-dagger2-more/"},"frontmatter":{"title":"안드로이드 Dagger2 좀 더 알아가기"}}},{"node":{"id":"5eb7df8d-a6a9-5e6c-a6a8-9e79a03cf5e8","fields":{"slug":"/android-hilt/"},"frontmatter":{"title":"안드로이드 Hilt에 대해 알아보기"}}},{"node":{"id":"c20926f6-1320-5a8c-9f4a-59e5892e6350","fields":{"slug":"/repository-pattern/"},"frontmatter":{"title":"안드로이드 Repository 패턴은 무엇인가"}}},{"node":{"id":"2469d97d-f2b6-544e-8ef9-20003ce2bd82","fields":{"slug":"/datastore/"},"frontmatter":{"title":"새로운 동료 DataStore 알아보기"}}},{"node":{"id":"388b7df4-d323-53ac-80ff-f4ad265a6077","fields":{"slug":"/android-diffutil/"},"frontmatter":{"title":"안드로이드 RecyclerView의 DiffUtil 알아보기"}}},{"node":{"id":"b3372752-9e81-5642-ae8e-179f5c6bc152","fields":{"slug":"/viewpager2/"},"frontmatter":{"title":"안드로이드 ViewPager2 사용기"}}},{"node":{"id":"6a3accf7-a0c8-5423-ab54-e336ed105d22","fields":{"slug":"/runOnUiThread/"},"frontmatter":{"title":"안드로이드 runOnUiThread?"}}},{"node":{"id":"5c4802cf-c4a3-5fde-9cde-044d3bf41c70","fields":{"slug":"/android-launcher/"},"frontmatter":{"title":"안드로이드에서 Launcher를 통한 결과 전달"}}},{"node":{"id":"1dde30d6-b5f2-5e8e-bed9-9b829ed73a22","fields":{"slug":"/android-menu/"},"frontmatter":{"title":"안드로이드 다양한 Menu들 사용하기"}}},{"node":{"id":"bf5f92c9-bce8-53e1-825f-5030efe6622a","fields":{"slug":"/android-permission/"},"frontmatter":{"title":"안드로이드 Permission 가져오기"}}},{"node":{"id":"1247175f-4af3-5f8d-a78f-eddc0317b772","fields":{"slug":"/android-sqlite/"},"frontmatter":{"title":"안드로이드 내부 데이터 저장 SQLite"}}},{"node":{"id":"02142718-5257-5488-b9d7-ce45ff8471b1","fields":{"slug":"/android-local-service/"},"frontmatter":{"title":"안드로이드 Local Service 알아보기"}}},{"node":{"id":"62ea7fd4-5557-5c1b-bced-0102a0ab8868","fields":{"slug":"/android-fragment/"},"frontmatter":{"title":"안드로이드 Fragment 조각내기"}}},{"node":{"id":"33da29ed-8ac4-5c3f-b024-3159e1da22b9","fields":{"slug":"/livedata-transform/"},"frontmatter":{"title":"안드로이드 MediatorLiveData와 Transformations"}}},{"node":{"id":"844abb8c-db3f-5c7a-b213-af7e4184750c","fields":{"slug":"/android-navigation/"},"frontmatter":{"title":"안드로이드 Navigation 사용하기"}}},{"node":{"id":"296e6b82-b35b-537d-a5a5-48d5d053235c","fields":{"slug":"/compose-start/"},"frontmatter":{"title":"안드로이드 Compose 알아보기"}}},{"node":{"id":"ac09eecc-30b4-525e-b40f-524fcc4dacc3","fields":{"slug":"/compose-lifecycle/"},"frontmatter":{"title":"안드로이드 Compose 수명 주기"}}},{"node":{"id":"8ecadfc1-855e-53a0-97cc-6594b192981b","fields":{"slug":"/compose-state-hoisting/"},"frontmatter":{"title":"안드로이드 Compose 상태 호이스팅"}}},{"node":{"id":"43f4b29f-ed51-5fc0-bf47-a7bdb00ae9d8","fields":{"slug":"/compose-side-effect/"},"frontmatter":{"title":"안드로이드 Side Effect란?"}}},{"node":{"id":"5bf017e2-3f6c-5f8a-b348-2b3586279023","fields":{"slug":"/android-version-catalog/"},"frontmatter":{"title":"안드로이드 Version Catalog 도입하기"}}},{"node":{"id":"d8ca9764-c28e-5491-b2d6-0f1fe3814612","fields":{"slug":"/android-webview/"},"frontmatter":{"title":"안드로이드 WebView로 웹과 놀기"}}},{"node":{"id":"9d857459-0fd2-5d37-8f39-eceec94e02b2","fields":{"slug":"/compose-theme/"},"frontmatter":{"title":"Compose 나만의 Custom Theme 설정하기"}}},{"node":{"id":"a483c66e-f6c8-5ab3-ad60-d36392c1e724","fields":{"slug":"/compose-bezier/"},"frontmatter":{"title":"Compose에서 Bezier 곡선으로 스쿼클 만들기"}}}]},"previous":{"fields":{"slug":"/programmers-kakao-blind-2020-1/"},"frontmatter":{"title":"프로그래머스 2020 KAKAO BLIND RECRUITMENT - 괄호 변환"}},"next":{"fields":{"slug":"/recyclerview/"},"frontmatter":{"title":"안드로이드 4대 컴포넌트란"}}},"pageContext":{"id":"7fddf3e0-5c6a-5813-b716-8b9348184adb","series":"Android","previousPostId":"814be3a5-2662-5037-a41b-ae3a88c11945","nextPostId":"da53b090-256e-5185-877e-1c63d36292dd"}},"staticQueryHashes":[],"slicesMap":{}}