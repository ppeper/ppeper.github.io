{"componentChunkName":"component---src-templates-post-jsx","path":"/decompose/","result":{"data":{"site":{"siteMetadata":{"title":"ppeperğŸ¥¤"}},"markdownRemark":{"id":"9cf5da48-1c3d-5686-a7e7-3946667cd074","excerpt":"ê°œìš” ìµœê·¼ì— Kotlin Multiplatformì„ í™œìš©í•˜ì—¬ ì•ˆë“œë¡œì´ë“œ íƒœë¸”ë¦¿ê³¼ Desktopì—ì„œ ì‚¬ìš©í•  ì„œë¹„ìŠ¤ë“¤ì„ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤. ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” í™”ë©´ê°„ì— Jetpack Compose Navigationì„ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ í˜„ì¬ Androidì—ì„œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ì—¬ ëŒ€ì²´í•  ì—¬ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì•„ë³´ë˜ ë„ì¤‘ Decomposeë¥¼ ì•Œê²Œë˜ì–´ í•œë²ˆ ê³µìœ í•´ë³´ê³ ì í•©â€¦","html":"<h3>ê°œìš”</h3>\n<blockquote>\n<p>ìµœê·¼ì— Kotlin Multiplatformì„ í™œìš©í•˜ì—¬ ì•ˆë“œë¡œì´ë“œ íƒœë¸”ë¦¿ê³¼ Desktopì—ì„œ ì‚¬ìš©í•  ì„œë¹„ìŠ¤ë“¤ì„ ê°œë°œí•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<p>ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” í™”ë©´ê°„ì— Jetpack Compose Navigationì„ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ í˜„ì¬ Androidì—ì„œë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ì—¬ ëŒ€ì²´í•  ì—¬ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì•„ë³´ë˜ ë„ì¤‘ Decomposeë¥¼ ì•Œê²Œë˜ì–´ í•œë²ˆ ê³µìœ í•´ë³´ê³ ì í•©ë‹ˆë‹¤.</p>\n</blockquote>\n<h2>Decompose??</h2>\n<p>Decompose ëŠ” ë©€í‹° í”Œë«í¼ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ê³µì‹ ë¬¸ì„œì—ì„œëŠ” Lifecycle-awareí•œ ë¹„ì¦ˆë‹ˆìŠ¤ ì»´í¬ë„ŒíŠ¸(Business Logic Component, BLoC)ë¡œ ì½”ë“œë¥¼ ë¶„í•´í•´ ì¤€ë‹¤ê³  ì„¤ëª…í•˜ê³  ìˆë‹¤.</p>\n<blockquote>\n<p>ğŸ’¡ <a href=\"https://github.com/felangel/bloc\">BLoC</a> ì´ë€ í‚¤ì›Œë“œë¥¼ ì²˜ìŒ ì ‘í•˜ì˜€ëŠ”ë° ì´ëŠ” Flutterì—ì„œ ì“°ì´ëŠ” ìƒíƒœê´€ë¦¬ íŒ¨í„´ì¤‘ í•˜ë‚˜ë¡œ\nUIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ë¶„ë¦¬ë¥¼ ê°•í™”í•˜ëŠ” ë””ìì¸ íŒ¨í„´ì´ë¼ê³  í•©ë‹ˆë‹¤. </p>\n</blockquote>\n<p>ê³µì‹ ë¬¸ì„œì˜ Decomposeì˜ ì£¼ìš” ì¥ì ìœ¼ë¡œëŠ” Navigationì˜ ì—­í•  (argument ì „ë‹¬, ë’¤ë¡œê°€ê¸°), ë”¥ë§í¬ë„ ì§€ì›ì„ í•˜ë©°, State Holderë¡œì¨ì˜ ì—­í• ì„ í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<p>ë˜í•œ ê°€ì¥ ì¤‘ìš”í•œ Lifecycle aware Componentë¡œì¨ì˜ ì—­í• ì„ í•  ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” Android ë‚´ì—ì„œ Activityì™€ ê°™ì´ ìˆ˜ëª… ì£¼ê¸° ìƒíƒœ ë³€ê²½ì— ë”°ë¼ ì‘ì—…ì„ ì‹¤í–‰ í•  ìˆ˜ ìˆë‹¤.</p>\n<h2>Decomposeì˜ êµ¬ì„± ìš”ì†Œ</h2>\n<p>ì½”ë“œë¥¼ ì‚´í´ë³´ê¸° ì „ì— Decomposeì— ì‚¬ìš©ëœ ì£¼ìš” êµ¬ì„± ìš”ì†Œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>\n<p>ComponentContext</p>\n<ul>\n<li>ìˆ˜ëª… ì£¼ê¸°ë¥¼ ê´€ë¦¬í•˜ì—¬ ìˆ˜ëª…ì£¼ê¸° ì´ë²¤íŠ¸ë¥¼ ê´€ì°°í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.</li>\n</ul>\n</li>\n<li>\n<p>Value</p>\n<ul>\n<li>ìƒíƒœ í™€ë” ì—­í• ì„ í•˜ë©° í˜„ì¬ ìƒíƒœë¥¼ ë°˜í™˜í•œë‹¤. (Androidì˜ stateflowë‚˜ LiveDataì™€ ë¹„ìŠ·í•œ ëŠë‚Œ)</li>\n</ul>\n</li>\n<li>\n<p>ChildStack</p>\n<ul>\n<li>ìš”ì†Œê°„ì˜ íƒìƒ‰ì„ ê´€ë¦¬í•œë‹¤. (push, pop, replace)</li>\n</ul>\n</li>\n<li>\n<p>StackNavigation</p>\n<ul>\n<li>í˜„ì¬ í‘œì‹œë˜ëŠ” êµ¬ì„±ì„ ìœ ì§€í•˜ë¯€ë¡œ íƒìƒ‰ ê´€ë¦¬ê°€ ìš©ì´í•´ì§„ë‹¤.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<p>Decomposeë¥¼ ë³´ë©´ì„œ Androidì—ì„œ Lifecycle, ìƒíƒœ, Navigationì˜ í•µì‹¬ ê¸°ëŠ¥ì„ Multiplatform í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì œê³µí•˜ê³  ìˆêµ¬ë‚˜ ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤. </p>\n<p>Item ë¦¬ìŠ¤íŠ¸ì™€ Detail í™”ë©´ì„ ì´ë™í•˜ëŠ” ê°„ë‹¨í•œ í™”ë©´ì„ ë§Œë“¤ì–´ë³´ë©´ì„œ êµ¬ì„±ìš”ì†Œë“¤ ë° ì‚¬ìš©ë²•ì„ í•œë²ˆ ì‚´í´ë³´ê³ ì í•©ë‹ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">Item</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">val</span> title<span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">)</span></code></pre></div>\n<h2>libs.versions.toml</h2>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">versions</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token key property\">decompose</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"&lt;latest_version>\"</span>\n<span class=\"token key property\">kotlin</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"&lt;latest_version>\"</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">libraries</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token key property\">decompose</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">module</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"com.arkivanov.decompose:decompose\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"decompose\"</span> <span class=\"token punctuation\">}</span>\n<span class=\"token key property\">decompose-extensions-compose</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">module</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"com.arkivanov.decompose:extensions-compose\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"decompose\"</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">[</span><span class=\"token table class-name\">plugins</span><span class=\"token punctuation\">]</span>\n<span class=\"token key property\">kotlinSerialization</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token key property\">id</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"org.jetbrains.kotlin.plugin.serialization\"</span><span class=\"token punctuation\">,</span> <span class=\"token key property\">version.ref</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"kotlin\"</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>shared ëª¨ë“ˆì— ìˆëŠ” ì— ìˆëŠ” <code class=\"language-text\">build.gradle.kts</code> ì— ì˜ì¡´ì„±ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\">plugins <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">alias</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>plugins<span class=\"token punctuation\">.</span>kotlinSerialization<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nkotlin <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n    sourceSets <span class=\"token punctuation\">{</span>\n        commonMain<span class=\"token punctuation\">.</span><span class=\"token function\">dependencies</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">..</span><span class=\"token punctuation\">.</span>\n        <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>decompose<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span>libs<span class=\"token punctuation\">.</span>decompose<span class=\"token punctuation\">.</span>extensions<span class=\"token punctuation\">.</span>compose<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>ğŸ’¡ kotlin-serializationì˜ ê²½ìš° Navigation í†µí•´ ë°ì´í„°ë¥¼ ë‹¤ë¥¸ í™”ë©´ìœ¼ë¡œ ì „ë‹¬ ì‹œ ì§ë ¬í™” ê³¼ì •ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ì´ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>\n</blockquote>\n<h2>RootComponent</h2>\n<p>Decomposeì—ì„œ ê°€ì¥ í•µì‹¬ì´ í‡´ëŠ” í´ë˜ìŠ¤ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ë‹¤ë¥¸ SubComponentë“¤ì„ ê´€ë¦¬í•˜ëŠ” Host ì—­í• ì„ í•œë‹¤. </p>\n<p>í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ Navigationë“¤ì„ ì •ì˜í•˜ê³  í™”ë©´ì— ëŒ€í•œ ì´ë™, ë°±ìŠ¤íƒ, Args ë“¤ì„ ê´€ë¦¬í•œë‹¤. Decomposeì—ì„œë„ ì•ˆë“œë¡œì´ë“œì™€ ë§ˆì°¬ê°€ì§€ë¡œ Stackì„ ì‚¬ìš©í•˜ì—¬ í™”ë©´ì„ ìŒ“ì•„ê°€ë©° ê´€ë¦¬í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">RootComponent</span><span class=\"token punctuation\">(</span>\n    componentContext<span class=\"token operator\">:</span> ComponentContext\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ComponentContext <span class=\"token keyword\">by</span> componentContext <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> navigation <span class=\"token operator\">=</span> StackNavigation<span class=\"token operator\">&lt;</span>Configuration<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> childStack <span class=\"token operator\">=</span> <span class=\"token function\">childStack</span><span class=\"token punctuation\">(</span>\n        source <span class=\"token operator\">=</span> navigation<span class=\"token punctuation\">,</span>\n        serializer <span class=\"token operator\">=</span> Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">serializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        initialConfiguration <span class=\"token operator\">=</span> Configuration<span class=\"token punctuation\">.</span>ItemList<span class=\"token punctuation\">,</span>\n        handleBackButton <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        childFactory <span class=\"token operator\">=</span> <span class=\"token operator\">::</span>createChild\n    <span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">createChild</span><span class=\"token punctuation\">(</span>\n        config<span class=\"token operator\">:</span> Configuration<span class=\"token punctuation\">,</span>\n        context<span class=\"token operator\">:</span> ComponentContext\n    <span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> Child <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">when</span> <span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">is</span> Configuration<span class=\"token punctuation\">.</span>ItemList <span class=\"token operator\">-></span> Child<span class=\"token punctuation\">.</span><span class=\"token function\">ItemList</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">ItemListComponent</span><span class=\"token punctuation\">(</span>\n                    componentContext <span class=\"token operator\">=</span> context<span class=\"token punctuation\">,</span>\n                    onNavigateToDetail <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> item <span class=\"token operator\">-></span>\n                        navigation<span class=\"token punctuation\">.</span><span class=\"token function\">pushNew</span><span class=\"token punctuation\">(</span>Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">ItemDetail</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">is</span> Configuration<span class=\"token punctuation\">.</span>ItemDetail <span class=\"token operator\">-></span> Child<span class=\"token punctuation\">.</span><span class=\"token function\">ItemDetail</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">ItemDetailComponent</span><span class=\"token punctuation\">(</span>\n                    item <span class=\"token operator\">=</span> config<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">,</span>\n                    componentContext <span class=\"token operator\">=</span> context<span class=\"token punctuation\">,</span>\n                    onBackPressed <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                        navigation<span class=\"token punctuation\">.</span><span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì•ˆë“œë¡œì´ë“œ Navigationì—ì„œ NavHostì™€ ê°™ì€ ì¤‘ì‹¬ì´ ë˜ëŠ” RootComponentë¥¼ ìƒì„±í•´ ì£¼ê¸°ìœ„í•´ì„œëŠ” <code class=\"language-text\">ComponentContext</code> ë¥¼ ë§Œë“¤ì–´ ì£¼ì–´ì•¼ í•œë‹¤. ì´ë•Œ ê¸°ë³¸ ê°’ì´ ë˜ëŠ” DefaultComponentContext ë¥¼ ì‚¬ìš©í•˜ì—¬ Lifecycleë§Œì„ ê°€ì§€ê³  ìˆëŠ” êµ¬í˜„ì²´ë¥¼ ìƒì„±í•´ ì¤„ ìˆ˜ ìˆë‹¤.</p>\n<h3>ComponentContext?</h3>\n<p>Decomposeì—ì„œ ComponentëŠ” ë¡œì§ì„ ìº¡ìŠí™”í•˜ëŠ” í´ë˜ìŠ¤ë¡œ ê°ì ê´€ë¦¬ë˜ëŠ” ìš”ì†Œë“¤ì´ ìˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ Component í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ë•Œ <code class=\"language-text\">ComponentContext</code> ì¸í„°í˜ì´ìŠ¤ì— ì˜í•´ êµ¬í˜„ëœ ê° ìš”ì†Œë“¤ì„ ê°€ì§€ê²Œ ëœë‹¤.</p>\n<ol>\n<li>LifecycleOwner</li>\n<li>StateKeeperOwner</li>\n<li>InstanceKeeperOwner</li>\n<li>BackHandlerOwner</li>\n</ol>\n<blockquote>\n<p>ê° ìš”ì†Œë“¤ì˜ ì—­í• ì€ <a href=\"https://arkivanov.github.io/Decompose/component/overview/#componentcontext\">ë¬¸ì„œ</a>ì—ì„œ ìì„¸í•˜ê²Œ í™•ì¸í•´ ë³¼ ìˆ˜ ìˆë‹¤.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">DefaultComponentContext</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">val</span> lifecycle<span class=\"token operator\">:</span> Lifecycle<span class=\"token punctuation\">,</span>\n    stateKeeper<span class=\"token operator\">:</span> StateKeeper<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    instanceKeeper<span class=\"token operator\">:</span> InstanceKeeper<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    backHandler<span class=\"token operator\">:</span> BackHandler<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> ComponentContext <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">val</span> stateKeeper<span class=\"token operator\">:</span> StateKeeper <span class=\"token operator\">=</span> stateKeeper <span class=\"token operator\">?:</span> <span class=\"token function\">StateKeeperDispatcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">val</span> instanceKeeper<span class=\"token operator\">:</span> InstanceKeeper <span class=\"token operator\">=</span> instanceKeeper <span class=\"token operator\">?:</span> <span class=\"token function\">InstanceKeeperDispatcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attachTo</span><span class=\"token punctuation\">(</span>lifecycle<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">val</span> backHandler<span class=\"token operator\">:</span> BackHandler <span class=\"token operator\">=</span> backHandler <span class=\"token operator\">?:</span> <span class=\"token function\">BackDispatcher</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">val</span> componentContextFactory<span class=\"token operator\">:</span> ComponentContextFactory<span class=\"token operator\">&lt;</span>ComponentContext<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">ComponentContextFactory</span><span class=\"token punctuation\">(</span><span class=\"token operator\">::</span>DefaultComponentContext<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span>lifecycle<span class=\"token operator\">:</span> Lifecycle<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span>\n        lifecycle <span class=\"token operator\">=</span> lifecycle<span class=\"token punctuation\">,</span>\n        stateKeeper <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        instanceKeeper <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n        backHandler <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Configuration</h3>\n<p>Decompose navigationì—ì„œ ì‚¬ìš©í•˜ëŠ” ìš©ì–´ë¡œ child componentë¥¼ í‘œí˜„í•˜ê³  argumentë“¤ì„ ë‹´ê³  ìˆëŠ” í´ë˜ìŠ¤ë“¤ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Serializable</span>\n<span class=\"token keyword\">sealed</span> <span class=\"token keyword\">class</span> Configuration <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Serializable</span>\n    <span class=\"token keyword\">data</span> <span class=\"token keyword\">object</span> ItemList<span class=\"token operator\">:</span> <span class=\"token function\">Configuration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation builtin\">@Serializable</span>\n    <span class=\"token keyword\">data</span> <span class=\"token keyword\">class</span> <span class=\"token function\">ItemDetail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> item<span class=\"token operator\">:</span> Item<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token function\">Configuration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Child Stack</h3>\n<p>ì»´í¬ë„ŒíŠ¸ë“¤ì€ ê°ì ìƒëª…ì£¼ê¸°ë¥¼ ê°€ì§„ë‹¤. ìƒˆ ì»´í¬ë„ŒíŠ¸ê°€ pushë˜ë©´ ì›ë˜ í™œì„±í™” ë˜ì–´ìˆë˜ ì»´í¬ë„ŒíŠ¸ëŠ” stopped ìƒíƒœê°€ ë˜ê³ , ì»´í¬ë„ŒíŠ¸ê°€ popë˜ë©´ ê·¸ ì•ì˜ ì»´í¬ë„ŒíŠ¸ê°€ resumed ìƒíƒœê°€ ëœë‹¤.Â </p>\n<p>ì¦‰, ë°±ìŠ¤íƒì— ìˆëŠ” ë™ì•ˆ ì»´í¬ë„ŒíŠ¸ì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¤‘ë‹¨í•˜ì§€ ì•Šê³  ì‹¤í–‰í•œ ì±„ë¡œ ë‘˜ ìˆ˜ ìˆë‹¤.</p>\n<p>Child Stackì€ 2ê°€ì§€ main entityë¡œ ì´ë£¨ì–´ì ¸ìˆë‹¤.</p>\n<ul>\n<li>ChildStack: Componentì™€ Configurationì„ ë‹´ê³  ìˆëŠ” data classì´ë‹¤.</li>\n<li>StackNavigation: navigation ëª…ë ¹ì„ ìˆ˜í–‰í•˜ê³  êµ¬ë…í•œ ì˜µì €ë²„ë“¤ì—ê²Œ ë©”ì„¸ì§€ë¥¼ ì „ë‹¬í•œë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> navigation <span class=\"token operator\">=</span> StackNavigation<span class=\"token operator\">&lt;</span>Configuration<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">val</span> childStack <span class=\"token operator\">=</span> <span class=\"token function\">childStack</span><span class=\"token punctuation\">(</span>\n    source <span class=\"token operator\">=</span> navigation<span class=\"token punctuation\">,</span>\n    serializer <span class=\"token operator\">=</span> Configuration<span class=\"token punctuation\">.</span><span class=\"token function\">serializer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    initialConfiguration <span class=\"token operator\">=</span> Configuration<span class=\"token punctuation\">.</span>ItemList<span class=\"token punctuation\">,</span>\n    handleBackButton <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    childFactory <span class=\"token operator\">=</span> <span class=\"token operator\">::</span>createChild\n<span class=\"token punctuation\">)</span></code></pre></div>\n<blockquote>\n<p>ğŸ“Œ <a href=\"https://arkivanov.github.io/Decompose/navigation/stack/navigation/\">Decompose Navigation</a> ë¥¼ í™•ì¸í•˜ë©´ console ì˜ˆì‹œì™€ í•¨ê»˜ ë‹¤ì–‘í•œ ëª…ë ¹ë“¤ì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>\n</blockquote>\n<p>ìœ„ì—ì„œ ë§í•˜ëŠ” ChildëŠ” ê° Screen í•˜ë‚˜í•˜ë‚˜ë¥¼ ë§í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì˜ ìƒëª…ì£¼ê¸°ê°€ ëë‚˜ë©´ ìë™ìœ¼ë¡œ ê°™ì´ íŒŒê´´ëœë‹¤.</p>\n<h2>Child Component</h2>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> <span class=\"token function\">ItemDetailComponent</span><span class=\"token punctuation\">(</span>\n    componentContext<span class=\"token operator\">:</span> ComponentContext<span class=\"token punctuation\">,</span>\n    item<span class=\"token operator\">:</span> Item<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> onBackPressed<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ComponentContext <span class=\"token keyword\">by</span> componentContext <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">val</span> state<span class=\"token operator\">:</span> Value<span class=\"token operator\">&lt;</span>Item<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token function\">MutableValue</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">onBack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">onBackPressed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token function\">ItemListComponent</span><span class=\"token punctuation\">(</span>\n    componentContext<span class=\"token operator\">:</span> ComponentContext<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">val</span> onNavigateToDetail<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>Item<span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> ComponentContext <span class=\"token keyword\">by</span> componentContext <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> _list <span class=\"token operator\">=</span> <span class=\"token function\">MutableValue</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token operator\">..</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">Item</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Decompose Item </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">it</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> list<span class=\"token operator\">:</span> Value<span class=\"token operator\">&lt;</span>List<span class=\"token operator\">&lt;</span>Item<span class=\"token operator\">></span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> _list\n\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>item<span class=\"token operator\">:</span> Item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">onNavigateToDetail</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê° Screenì˜ Componentì—ì„œëŠ” Decomposeì—ì„œ <code class=\"language-text\">Value</code> ë¥¼ í†µí•´ ì•ˆë“œë¡œì´ë“œì—ì„œì˜ StateFlow, LiveDataì™€ ê°™ì´ Stateë“¤ì„ Holderí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ë©° Decompose-extensionì—ì„œ ì œê³µí•˜ëŠ” subscribeAsState()ë¡œ ë³€í™”ë“¤ì„ ì˜µì €ë¹™ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> state <span class=\"token keyword\">by</span> component<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeAsState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>ë¦¬ìŠ¤íŠ¸ í™”ë©´ê³¼ Detail í™”ë©´ì—ì„œ ì‚¬ìš© ì˜ˆì‹œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">ItemListScreen</span><span class=\"token punctuation\">(</span>\n    component<span class=\"token operator\">:</span> ItemListComponent<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> state <span class=\"token keyword\">by</span> component<span class=\"token punctuation\">.</span>list<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeAsState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">LazyColumn</span><span class=\"token punctuation\">(</span>\n        modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        state <span class=\"token operator\">=</span> <span class=\"token function\">rememberLazyListState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        contentPadding <span class=\"token operator\">=</span> <span class=\"token function\">PaddingValues</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        verticalArrangement <span class=\"token operator\">=</span> Arrangement<span class=\"token punctuation\">.</span><span class=\"token function\">spacedBy</span><span class=\"token punctuation\">(</span><span class=\"token number\">8</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">items</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> item <span class=\"token operator\">-></span>\n            <span class=\"token function\">Row</span><span class=\"token punctuation\">(</span>\n                modifier <span class=\"token operator\">=</span> Modifier\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">clip</span><span class=\"token punctuation\">(</span><span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">border</span><span class=\"token punctuation\">(</span>\n                        border <span class=\"token operator\">=</span> <span class=\"token function\">BorderStroke</span><span class=\"token punctuation\">(</span>\n                            width <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">,</span>\n                            color <span class=\"token operator\">=</span> Color<span class=\"token punctuation\">.</span>LightGray\n                        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        shape <span class=\"token operator\">=</span> <span class=\"token function\">RoundedCornerShape</span><span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">clickable</span> <span class=\"token punctuation\">{</span> component<span class=\"token punctuation\">.</span><span class=\"token function\">onItemClick</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">padding</span><span class=\"token punctuation\">(</span><span class=\"token number\">16</span><span class=\"token punctuation\">.</span>dp<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                horizontalArrangement <span class=\"token operator\">=</span> Arrangement<span class=\"token punctuation\">.</span>SpaceBetween<span class=\"token punctuation\">,</span>\n                verticalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterVertically\n            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">ItemDetailScreen</span><span class=\"token punctuation\">(</span>\n    component<span class=\"token operator\">:</span> ItemDetailComponent\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> item <span class=\"token keyword\">by</span> component<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeAsState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">Scaffold</span><span class=\"token punctuation\">(</span>\n        modifier <span class=\"token operator\">=</span> Modifier\n            <span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        topBar <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">TopAppBar</span><span class=\"token punctuation\">(</span>\n                title <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Decompose Example\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                navigationIcon <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">IconButton</span><span class=\"token punctuation\">(</span>\n                        onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n                            component<span class=\"token punctuation\">.</span><span class=\"token function\">onBack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        <span class=\"token function\">Icon</span><span class=\"token punctuation\">(</span>\n                            imageVector <span class=\"token operator\">=</span> Icons<span class=\"token punctuation\">.</span>AutoMirrored<span class=\"token punctuation\">.</span>Filled<span class=\"token punctuation\">.</span>ArrowBack<span class=\"token punctuation\">,</span>\n                            contentDescription <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"Back\"</span></span>\n                        <span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">Box</span><span class=\"token punctuation\">(</span>\n            modifier <span class=\"token operator\">=</span> Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            contentAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>Center\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>text <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Application ì‹¤í–‰</h2>\n<p>ê° í”Œë«í¼ì—ì„œ ì‚¬ìš©í•  App Composable í•¨ìˆ˜ì—ì„œëŠ” ì•ì„œ ë§Œë“  <code class=\"language-text\">RootComponent</code> ë¥¼ ì‚¬ìš©í•˜ì—¬ childStackì„ ì œê³µí•˜ì—¬ ì–´ë– í•œ í™”ë©´ì„ ë³´ì—¬ì¤„ ì§€ ê²°ì •í•˜ê²Œ ëœë‹¤.</p>\n<blockquote>\n<p>ì¶”ê°€ë¡œ Navigationì˜ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ ë˜í•œ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆë‹¤.</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token annotation builtin\">@Preview</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span>\n    root<span class=\"token operator\">:</span> RootComponent\n<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    MaterialTheme <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> childStack <span class=\"token keyword\">by</span> root<span class=\"token punctuation\">.</span>childStack<span class=\"token punctuation\">.</span><span class=\"token function\">subscribeAsState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Children</span><span class=\"token punctuation\">(</span>\n            stack <span class=\"token operator\">=</span> childStack<span class=\"token punctuation\">,</span>\n            animation <span class=\"token operator\">=</span> <span class=\"token function\">stackAnimation</span><span class=\"token punctuation\">(</span><span class=\"token function\">slide</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> child <span class=\"token operator\">-></span>\n            <span class=\"token keyword\">when</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">val</span> instance <span class=\"token operator\">=</span> child<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">is</span> RootComponent<span class=\"token punctuation\">.</span>Child<span class=\"token punctuation\">.</span>ItemList <span class=\"token operator\">-></span> <span class=\"token function\">ItemListScreen</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>component<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">is</span> RootComponent<span class=\"token punctuation\">.</span>Child<span class=\"token punctuation\">.</span>ItemDetail<span class=\"token operator\">-></span> <span class=\"token function\">ItemDetailScreen</span><span class=\"token punctuation\">(</span>instance<span class=\"token punctuation\">.</span>component<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ ë§Œë“¤ì–´ì§„ RootComponentë¥¼ Appì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•˜ì—¬ ì•ˆë“œë¡œì´ë“œ, Desktopì—ì„œ ì‹¤í–‰í•´ ë³´ì.</p>\n<h3>MainActivity</h3>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">ComponentActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">val</span> root <span class=\"token operator\">=</span> retainedComponent <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">RootComponent</span><span class=\"token punctuation\">(</span>it<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n\n        setContent <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">App</span><span class=\"token punctuation\">(</span>root <span class=\"token operator\">=</span> root<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Desktop</h3>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> lifecycle <span class=\"token operator\">=</span> <span class=\"token function\">LifecycleRegistry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">val</span> root <span class=\"token operator\">=</span> runOnUiThread <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">RootComponent</span><span class=\"token punctuation\">(</span>\n            componentContext <span class=\"token operator\">=</span> <span class=\"token function\">DefaultComponentContext</span><span class=\"token punctuation\">(</span>lifecycle <span class=\"token operator\">=</span> lifecycle<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    application <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> windowState <span class=\"token operator\">=</span> <span class=\"token function\">rememberWindowState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">Window</span><span class=\"token punctuation\">(</span>\n            onCloseRequest <span class=\"token operator\">=</span> <span class=\"token operator\">::</span>exitApplication<span class=\"token punctuation\">,</span>\n            state <span class=\"token operator\">=</span> windowState<span class=\"token punctuation\">,</span>\n            title <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"DecomposeExample\"</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">LifecycleController</span><span class=\"token punctuation\">(</span>\n                lifecycleRegistry <span class=\"token operator\">=</span> lifecycle<span class=\"token punctuation\">,</span>\n                windowState <span class=\"token operator\">=</span> windowState<span class=\"token punctuation\">,</span>\n                windowInfo <span class=\"token operator\">=</span> LocalWindowInfo<span class=\"token punctuation\">.</span>current\n            <span class=\"token punctuation\">)</span>\n            <span class=\"token function\">App</span><span class=\"token punctuation\">(</span>root<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>   \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">internal</span> <span class=\"token keyword\">fun</span> <span class=\"token operator\">&lt;</span>T<span class=\"token operator\">></span> <span class=\"token function\">runOnUiThread</span><span class=\"token punctuation\">(</span>block<span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> T<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> T <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>SwingUtilities<span class=\"token punctuation\">.</span><span class=\"token function\">isEventDispatchThread</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">block</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">var</span> error<span class=\"token operator\">:</span> Throwable<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n    <span class=\"token keyword\">var</span> result<span class=\"token operator\">:</span> T<span class=\"token operator\">?</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span>\n\n    SwingUtilities<span class=\"token punctuation\">.</span><span class=\"token function\">invokeAndWait</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">block</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Throwable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            error <span class=\"token operator\">=</span> e\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    error<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">also</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">throw</span> it <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation builtin\">@Suppress</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"UNCHECKED_CAST\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> result <span class=\"token keyword\">as</span> T\n<span class=\"token punctuation\">}</span></code></pre></div>\n<img src=\"https://github.com/user-attachments/assets/bee9a8d9-db82-4f36-9c36-bb55ad65392f\">\n<h2>References</h2>\n<ul>\n<li><a href=\"https://github.com/arkivanov/Decompose\">https://github.com/arkivanov/Decompose</a></li>\n<li><a href=\"https://arkivanov.github.io/Decompose/\">https://arkivanov.github.io/Decompose/</a></li>\n</ul>","frontmatter":{"title":"Kotlin Multiplatform - Decompose","date":"December 18, 2024","update":"December 18, 2024","tags":["Android","Kotlin Multiplatform"],"series":"Kotlin Multiplatform"},"fields":{"slug":"/decompose/","readingTime":{"minutes":10.24}}},"seriesList":{"edges":[{"node":{"id":"9cf5da48-1c3d-5686-a7e7-3946667cd074","fields":{"slug":"/decompose/"},"frontmatter":{"title":"Kotlin Multiplatform - Decompose"}}}]},"previous":{"fields":{"slug":"/ktor/"},"frontmatter":{"title":"KMPë¥¼ ì§€ì›í•˜ëŠ” Ktor Clientë¥¼ ì‚¬ìš©í•´ë³´ì"}},"next":{"fields":{"slug":"/goodbye-2024/"},"frontmatter":{"title":"2024ë…„ í•œí•´ë¥¼ ëŒì•„ë³´ë©° "}}},"pageContext":{"id":"9cf5da48-1c3d-5686-a7e7-3946667cd074","series":"Kotlin Multiplatform","previousPostId":"1da09158-79bc-54c5-8886-5cf392f4154f","nextPostId":"49f6944a-db20-5f1d-84f8-06f68094d963"}},"staticQueryHashes":[],"slicesMap":{}}