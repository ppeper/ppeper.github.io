{"componentChunkName":"component---src-templates-post-jsx","path":"/android-hilt/","result":{"data":{"site":{"siteMetadata":{"title":"ppeper🥤"}},"markdownRemark":{"id":"5eb7df8d-a6a9-5e6c-a6a8-9e79a03cf5e8","excerpt":"Hilt Hilt란 Google의 Dagger2를 기본으로 만든 의존성 주입 라이브러리이다. 따라서 Dagger2에 대한 Component, Scope를 기본적을 제공하며, 초기 프로젝트 환경 구축 비용을 크게 줄이는 것이 목적이 있다. Hilt에 대해 알아보기 전에 Dagger2를 사용하여 의존성 주입을 사용한 간단한 예시를 구성해 보면 다음과 같다. …","html":"<h1>Hilt</h1>\n<p>Hilt란 Google의 Dagger2를 기본으로 만든 의존성 주입 라이브러리이다. 따라서 Dagger2에 대한 Component, Scope를 기본적을 제공하며, 초기 프로젝트 환경 구축 비용을 크게 줄이는 것이 목적이 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// Third Party Library라고 생각</span>\n<span class=\"token keyword\">class</span> DataSource <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Log<span class=\"token punctuation\">.</span><span class=\"token function\">i</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"TAG\"</span></span><span class=\"token punctuation\">,</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"데이터 다운로드..\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Hilt에 대해 알아보기 전에 Dagger2를 사용하여 의존성 주입을 사용한 간단한 예시를 구성해 보면 다음과 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Module</span>\n<span class=\"token keyword\">class</span> DataModule <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@Provides</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">providesDataSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> DataSource <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">DataSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation builtin\">@Component</span><span class=\"token punctuation\">(</span>modules <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>DataModule<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">interface</span> DataComponent <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">inject</span><span class=\"token punctuation\">(</span>mainActivity<span class=\"token operator\">:</span> MainActivity<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> App<span class=\"token operator\">:</span> <span class=\"token function\">Application</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> dataComponent<span class=\"token operator\">:</span> DataComponent\n    \n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        dataComponent <span class=\"token operator\">=</span> DaggerDataComponent<span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">AppCompatActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Inject</span>\n    <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> dataSource<span class=\"token operator\">:</span> DataSource\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setContentView</span><span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span>activity_main<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">(</span>application <span class=\"token keyword\">as</span> App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>dataComponent\n            <span class=\"token punctuation\">.</span><span class=\"token function\">inject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\">// 사용하기</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">&lt;application\n    android:name=\".App\"\n    .\n    .\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>application</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Dagger2로 적용되어있는 간단한 예시를 Hilt를 알아보면서 바꿔보도록 한다.</p>\n<h1>종속 항목 추가</h1>\n<p>먼저 <code class=\"language-text\">hilt-android-gradle-plugin</code> 플러그인을 프로젝트의 루트 build.gradle 파일에 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">buildscript <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">...</span>\n    <span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">...</span>\n        classpath <span class=\"token string\">'com.google.dagger:hilt-android-gradle-plugin:2.28-alpha'</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">app/build.gradle</code> 파일에 종속 항복을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">plugins</span> <span class=\"token punctuation\">{</span>\n    id <span class=\"token string\">'kotlin-kapt'</span>\n    id <span class=\"token string\">'dagger.hilt.android.plugin'</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">dependencies</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Dagger - Hilt</span>\n    <span class=\"token keyword\">implementation</span> <span class=\"token interpolation-string\"><span class=\"token string\">\"com.google.dagger:hilt-android:2.41\"</span></span>\n    kapt <span class=\"token interpolation-string\"><span class=\"token string\">\"com.google.dagger:hilt-android-compiler:2.41\"</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Hilt는 자바8 기능을 사용한다. 대부분 자바8을 사용하기 때문에 이미 되어있는 부분일 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\">compileOptions <span class=\"token punctuation\">{</span>\n    sourceCompatibility JavaVersion<span class=\"token punctuation\">.</span>VERSION_1_8\n    targetCompatibility JavaVersion<span class=\"token punctuation\">.</span>VERSION_1_8\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>version 범블비</h2>\n<p>안드로이드 스튜디오 범블비 버전에선 <code class=\"language-text\">build.gradle</code>과 <code class=\"language-text\">settings.gradle</code>이 변화하였다.</p>\n<p><code class=\"language-text\">build.gradle</code>에 있던 이 부분이 <code class=\"language-text\">settings.gradle</code>로 이동하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">repositories</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">gradlePluginPortal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">google</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">build.gradle</code> 의 classpath 설정하던 부분이 다음과 같이 변경되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">plugins</span> <span class=\"token punctuation\">{</span>\n    id <span class=\"token string\">'com.android.application'</span> version <span class=\"token string\">'7.1.1'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n    id <span class=\"token string\">'com.android.library'</span> version <span class=\"token string\">'7.1.1'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n    id <span class=\"token string\">'org.jetbrains.kotlin.android'</span> version <span class=\"token string\">'1.6.10'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Hilt의 2.41버전이 나오면서 classpath는 <code class=\"language-text\">build.gradle</code>에 다음과 같이 넣어주면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"gradle\"><pre class=\"language-gradle\"><code class=\"language-gradle\"><span class=\"token keyword\">plugins</span> <span class=\"token punctuation\">{</span>\n    id <span class=\"token string\">'com.android.application'</span> version <span class=\"token string\">'7.1.1'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n    id <span class=\"token string\">'com.android.library'</span> version <span class=\"token string\">'7.1.1'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n    id <span class=\"token string\">'org.jetbrains.kotlin.android'</span> version <span class=\"token string\">'1.6.10'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n    id <span class=\"token string\">'com.google.dagger.hilt.android'</span> version <span class=\"token string\">'2.41'</span> <span class=\"token keyword\">apply</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>@HiltAndroidApp</h1>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> App<span class=\"token operator\">:</span> <span class=\"token function\">Application</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> dataComponent<span class=\"token operator\">:</span> DataComponent\n    \n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        dataComponent <span class=\"token operator\">=</span> DaggerDataComponent<span class=\"token punctuation\">.</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Hilt에서 <strong>@HiltAndroidApp</strong> 어노테이션을 사용하면 컴파일 타임시 표준 Component 생성에 필요한 클래스들을 초기화한다. 따라서 Hilt를 프로젝트에 적용하기 위해서는 필수적으로 요구되는 과정이다. </p>\n<p>Dagger를 적용하였는 App 클래스를 Hilt로 변경하면 다음과 같이 코드가 줄어든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@HiltAndroidApp</span>\n<span class=\"token keyword\">class</span> App<span class=\"token operator\">:</span> <span class=\"token function\">Application</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\">&lt;application\n    android:name=\".App\"\n    .\n    .\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>application</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h1>Component hierachy</h1>\n<p>기존의 Dagger2는 개발자가 직접 필요한 Component들을 작성하고 상속 관계를 정의하여 사용하였지만, Hilt에서는 Android 화경에서 표준적으로 사용되는 Component들을 기본적으로 제공하고 있다.</p>\n<p>또한 Hilt 내부적으로 제공하는 Component들의 전반적인 생명주기 또한 자동으로 관리를 해주기 때문에 초기 DI 적용을 위한 환경을 구축하는데 드는 비용을 줄일수 있다.</p>\n<img src=\"https://user-images.githubusercontent.com/63226023/162617386-fb24e8e4-e8dd-4730-9170-3430f0145c3e.png\">\n<p>위와 같은 Hilt에서 제공하는 Component들은 아래와 같은 함수 호출시점에 생성되고, Destroy가 된다.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">생성된 구성요소</th>\n<th align=\"left\">생성 위치</th>\n<th align=\"left\">제거 위치</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">SingletonComponent</td>\n<td align=\"left\">Application#onCreate()</td>\n<td align=\"left\">Application#onDestroy()</td>\n</tr>\n<tr>\n<td align=\"left\">ActivityRetainedComponent</td>\n<td align=\"left\">Activity#onCreate()</td>\n<td align=\"left\">Activity#onDestroy()</td>\n</tr>\n<tr>\n<td align=\"left\">ActivityComponent</td>\n<td align=\"left\">Activity#onCreate()</td>\n<td align=\"left\">Activity#onDestroy()</td>\n</tr>\n<tr>\n<td align=\"left\">FragmentComponent</td>\n<td align=\"left\">Fragment#onAttach()</td>\n<td align=\"left\">Fragment#onDestroy()</td>\n</tr>\n<tr>\n<td align=\"left\">ViewComponent</td>\n<td align=\"left\">View#super()</td>\n<td align=\"left\">제거된 뷰</td>\n</tr>\n<tr>\n<td align=\"left\">ViewWithFragmentComponent</td>\n<td align=\"left\">View#super()</td>\n<td align=\"left\">제거된 뷰</td>\n</tr>\n<tr>\n<td align=\"left\">ServiceComponent</td>\n<td align=\"left\">Service#onCreate()</td>\n<td align=\"left\">Service#onDestroy()</td>\n</tr>\n</tbody>\n</table>\n<p>각 컴포넌트들은 생성 시점부터 제거되기까지 <code class=\"language-text\">Member Injection</code>이 가능하고, 각 컴포넌트마다 아래와 같은 생명주기를 갖는다.</p>\n<ul>\n<li>SingletonComponent: Application 전체의 생명주기를 가진다.</li>\n<li>\n<p>ActivityRetainComponent: <code class=\"language-text\">ApplicationComponent</code>의 하위 컴포넌트로써, Activity의 생명주기를 가진다.</p>\n<ul>\n<li>Activity의 화면 회전과 같은 작업이 일어났을시 파괴되지 않고 유지된다.</li>\n</ul>\n</li>\n<li>ActivityComponent: <code class=\"language-text\">ActivityRetainComponent</code>의 하위 컴포넌트로써, Activity의 생명주기를 가진다.</li>\n<li>FragmentComponent: <code class=\"language-text\">ActivityComponent</code>의 하위 컴포넌트로써, Fragment가 Activity에 붙는(onAttach()) 시점에 생성이 되고, Fragment가 파괴되는 시점에 제더된다.</li>\n<li>ViewComponent: <code class=\"language-text\">ActivityComponent</code>의 하위 컴포넌트로써, View의 생명주기를 가진다.</li>\n<li>ViewWithFragmentComponent: <code class=\"language-text\">FragmentComponent</code>의 하위 컴포넌트로써, Fragment의 view 생명주기를 가진다.</li>\n<li>ServiceComponent: <code class=\"language-text\">ApplicationComponent</code>의 하위 컴포넌트로써, Service의 생명주기를 가진다.</li>\n</ul>\n<p>위와 같은 표준 Component/Scope들은 Hilt에서는 제공하고 있으며, 새로운 Component를 정의하고 싶다면 <code class=\"language-text\">@DefineComponent</code> 어노테이션을 사용하여 정의가 가능하다.</p>\n<h1>@InstallIn</h1>\n<p>Dagger2에서는 새로운 module을 생성하면, 사용자가 정의한 Component에 module 클래스를 직접 넣어주는 방법을 사용하였다. </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Component</span><span class=\"token punctuation\">(</span>modules <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>DataModule<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">interface</span> DataComponent <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">inject</span><span class=\"token punctuation\">(</span>mainActivity<span class=\"token operator\">:</span> MainActivity<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>반면에 Hilt에서는 표준적으로 제공하는 Component들이 존재하기 때문에 @InstallIn 어노테이션을 사용하여 표준 Component에 Module을 install 할 수 있다.</p>\n<p>Dagger에서 사용하였던 DataComponent를 삭제하고 DataModule에 @InstallIn을 추가한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Module</span>\n<span class=\"token annotation builtin\">@InstallIn</span><span class=\"token punctuation\">(</span>SingletonComponent<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> DataModule <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Provides</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">providesDataSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> DataSource <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">DataSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>@AndroidEntryPoint</h1>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">AppCompatActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Inject</span>\n    <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> dataSource<span class=\"token operator\">:</span> DataSource\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setContentView</span><span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span>activity_main<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">(</span>application <span class=\"token keyword\">as</span> App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>dataComponent\n            <span class=\"token punctuation\">.</span><span class=\"token function\">inject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\">// 사용하기</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Dagger2에서는 의존성을 주입받을 대상을 전부 dependency graph에 지정을 해주었지만, Hilt에서는 객체를 주입할 대상에게 @AndroidEntryPoint 어노테이션을 추가만 해주면 된다. @AndroidEntryPoint를 추가할 수 있는 Android Component는 아래와 같다.</p>\n<ul>\n<li>Activity</li>\n<li>Fragment</li>\n<li>View</li>\n<li>Service</li>\n<li>BroadcastReceiver</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@AndroidEntryPoint</span>\n<span class=\"token keyword\">class</span> MainActivity <span class=\"token operator\">:</span> <span class=\"token function\">AppCompatActivity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation builtin\">@Inject</span>\n    <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> dataSource<span class=\"token operator\">:</span> DataSource\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token operator\">:</span> Bundle<span class=\"token operator\">?</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">onCreate</span><span class=\"token punctuation\">(</span>savedInstanceState<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setContentView</span><span class=\"token punctuation\">(</span>R<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span>activity_main<span class=\"token punctuation\">)</span>\n        <span class=\"token comment\">// 사용하기</span>\n        dataSource<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<img src=\"https://user-images.githubusercontent.com/63226023/162624070-99438590-aae7-4ae4-b966-5e66119cbaa7.png\">\n<hr>\n<h1>References</h1>\n<ul>\n<li><a href=\"https://developer.android.com/training/dependency-injection/hilt-android?hl=ko\">Hilt를 사용한 종속 항목 삽입</a></li>\n<li><a href=\"https://open-support.tistory.com/entry/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C-%EC%8A%A4%ED%8A%9C%EB%94%94%EC%98%A4-%EB%B2%94%EB%B8%94%EB%B9%84202111-%EB%B2%84%EC%A0%84%EC%9D%B4-%EB%82%98%EC%98%A4%EB%A9%B4%EC%84%9C-buildgradle%EA%B3%BC-settingsgradle%EC%97%90-%EB%B3%80%ED%99%94\">안드로이드-스튜디오-범블비202111-버전이-나오면서-buildgradle과-settingsgradle에-변화</a></li>\n<li><a href=\"https://hyperconnect.github.io/2020/07/28/android-dagger-hilt.html\">https://hyperconnect.github.io/2020/07/28/android-dagger-hilt.html</a></li>\n</ul>","frontmatter":{"title":"안드로이드 Hilt에 대해 알아보기","date":"April 10, 2022","update":"April 10, 2022","tags":["Android","Hilt"],"series":"Android"},"fields":{"slug":"/android-hilt/","readingTime":{"minutes":7.495}}},"seriesList":{"edges":[{"node":{"id":"ec35f26c-1e41-5966-85a5-26fa93fb5998","fields":{"slug":"/android-start/"},"frontmatter":{"title":"첫 안드로이드 개발에 대한 회고"}}},{"node":{"id":"f0d5a7a2-4729-582b-85a5-b78dd0643477","fields":{"slug":"/lifecycle/"},"frontmatter":{"title":"안드로이드 Lifecycle 제대로 알기"}}},{"node":{"id":"c38cf2b3-111e-5e83-8623-c323546b3596","fields":{"slug":"/fragment/"},"frontmatter":{"title":"안드로이드 Fragment 사용"}}},{"node":{"id":"d0d74ae8-e541-598a-a0c8-30dbf6d27c14","fields":{"slug":"/intent/"},"frontmatter":{"title":"안드로이드 인텐트의 개념"}}},{"node":{"id":"7fddf3e0-5c6a-5813-b716-8b9348184adb","fields":{"slug":"/android-context/"},"frontmatter":{"title":"안드로이드 Context의 개념"}}},{"node":{"id":"da53b090-256e-5185-877e-1c63d36292dd","fields":{"slug":"/recyclerview/"},"frontmatter":{"title":"안드로이드 4대 컴포넌트란"}}},{"node":{"id":"76b96463-5dc0-5bce-9411-653b728c0d07","fields":{"slug":"/broadcast/"},"frontmatter":{"title":"안드로이드 브로드캐스트(Broadcast)"}}},{"node":{"id":"31f9951e-cfe2-5831-9791-bdd8a3f321f2","fields":{"slug":"/android-service/"},"frontmatter":{"title":"안드로이드 서비스(Service) 개요"}}},{"node":{"id":"9f0c308a-f26f-5882-b1c0-603d65208794","fields":{"slug":"/pendingintent/"},"frontmatter":{"title":"안드로이드 PendingIntent의 개념"}}},{"node":{"id":"6d7acb66-c296-5cb4-a56d-a6141652ba03","fields":{"slug":"/notification/"},"frontmatter":{"title":"안드로이드 알림(Notification) 만들기"}}},{"node":{"id":"dd38b1c0-3bb7-5d67-9871-c8a997f7665a","fields":{"slug":"/android-jetpack/"},"frontmatter":{"title":"안드로이드 Jetpack에 대해"}}},{"node":{"id":"4ae3792b-61e4-502c-997f-ea92464eb538","fields":{"slug":"/android-acc/"},"frontmatter":{"title":"안드로이드 MVVM 패턴과 ACC 알아보기"}}},{"node":{"id":"07f0687c-2335-5ce9-adbf-a9e3fdcdb964","fields":{"slug":"/viewmodel/"},"frontmatter":{"title":"안드로이드 Jetpack의 ViewModel 사용해보기"}}},{"node":{"id":"08c0cd05-8fe6-5461-8c79-629efa4d3099","fields":{"slug":"/livedata/"},"frontmatter":{"title":"안드로이드 Jetpack의 LiveData 적용하기"}}},{"node":{"id":"cd2c8fe7-7aa9-53d0-a66c-0157b8f0fdb5","fields":{"slug":"/databinding/"},"frontmatter":{"title":"안드로이드 DataBinding + LiveData 적용하기"}}},{"node":{"id":"567749b8-f03e-5f18-bf62-021e32de6506","fields":{"slug":"/coroutine/"},"frontmatter":{"title":"안드로이드 코루틴의 기초 알아보기"}}},{"node":{"id":"92a49d11-9d7c-5fc9-b5f7-9575ee1886ea","fields":{"slug":"/room-database/"},"frontmatter":{"title":"안드로이드 Room 사용하면서 알아보기"}}},{"node":{"id":"9b4e8bd5-b184-5972-b687-b5a509707a35","fields":{"slug":"/android-dagger2/"},"frontmatter":{"title":"안드로이드 Dagger2 맛보기"}}},{"node":{"id":"f3e41032-8577-5a04-bb96-62be1e0aaf4b","fields":{"slug":"/android-dagger2-more/"},"frontmatter":{"title":"안드로이드 Dagger2 좀 더 알아가기"}}},{"node":{"id":"5eb7df8d-a6a9-5e6c-a6a8-9e79a03cf5e8","fields":{"slug":"/android-hilt/"},"frontmatter":{"title":"안드로이드 Hilt에 대해 알아보기"}}},{"node":{"id":"c20926f6-1320-5a8c-9f4a-59e5892e6350","fields":{"slug":"/repository-pattern/"},"frontmatter":{"title":"안드로이드 Repository 패턴은 무엇인가"}}},{"node":{"id":"2469d97d-f2b6-544e-8ef9-20003ce2bd82","fields":{"slug":"/datastore/"},"frontmatter":{"title":"새로운 동료 DataStore 알아보기"}}},{"node":{"id":"388b7df4-d323-53ac-80ff-f4ad265a6077","fields":{"slug":"/android-diffutil/"},"frontmatter":{"title":"안드로이드 RecyclerView의 DiffUtil 알아보기"}}},{"node":{"id":"b3372752-9e81-5642-ae8e-179f5c6bc152","fields":{"slug":"/viewpager2/"},"frontmatter":{"title":"안드로이드 ViewPager2 사용기"}}},{"node":{"id":"6a3accf7-a0c8-5423-ab54-e336ed105d22","fields":{"slug":"/runOnUiThread/"},"frontmatter":{"title":"안드로이드 runOnUiThread?"}}},{"node":{"id":"5c4802cf-c4a3-5fde-9cde-044d3bf41c70","fields":{"slug":"/android-launcher/"},"frontmatter":{"title":"안드로이드에서 Launcher를 통한 결과 전달"}}},{"node":{"id":"1dde30d6-b5f2-5e8e-bed9-9b829ed73a22","fields":{"slug":"/android-menu/"},"frontmatter":{"title":"안드로이드 다양한 Menu들 사용하기"}}},{"node":{"id":"bf5f92c9-bce8-53e1-825f-5030efe6622a","fields":{"slug":"/android-permission/"},"frontmatter":{"title":"안드로이드 Permission 가져오기"}}},{"node":{"id":"1247175f-4af3-5f8d-a78f-eddc0317b772","fields":{"slug":"/android-sqlite/"},"frontmatter":{"title":"안드로이드 내부 데이터 저장 SQLite"}}},{"node":{"id":"02142718-5257-5488-b9d7-ce45ff8471b1","fields":{"slug":"/android-local-service/"},"frontmatter":{"title":"안드로이드 Local Service 알아보기"}}},{"node":{"id":"62ea7fd4-5557-5c1b-bced-0102a0ab8868","fields":{"slug":"/android-fragment/"},"frontmatter":{"title":"안드로이드 Fragment 조각내기"}}},{"node":{"id":"33da29ed-8ac4-5c3f-b024-3159e1da22b9","fields":{"slug":"/livedata-transform/"},"frontmatter":{"title":"안드로이드 MediatorLiveData와 Transformations"}}},{"node":{"id":"844abb8c-db3f-5c7a-b213-af7e4184750c","fields":{"slug":"/android-navigation/"},"frontmatter":{"title":"안드로이드 Navigation 사용하기"}}},{"node":{"id":"296e6b82-b35b-537d-a5a5-48d5d053235c","fields":{"slug":"/compose-start/"},"frontmatter":{"title":"안드로이드 Compose 알아보기"}}},{"node":{"id":"ac09eecc-30b4-525e-b40f-524fcc4dacc3","fields":{"slug":"/compose-lifecycle/"},"frontmatter":{"title":"안드로이드 Compose 수명 주기"}}},{"node":{"id":"8ecadfc1-855e-53a0-97cc-6594b192981b","fields":{"slug":"/compose-state-hoisting/"},"frontmatter":{"title":"안드로이드 Compose 상태 호이스팅"}}},{"node":{"id":"43f4b29f-ed51-5fc0-bf47-a7bdb00ae9d8","fields":{"slug":"/compose-side-effect/"},"frontmatter":{"title":"안드로이드 Side Effect란?"}}},{"node":{"id":"5bf017e2-3f6c-5f8a-b348-2b3586279023","fields":{"slug":"/android-version-catalog/"},"frontmatter":{"title":"안드로이드 Version Catalog 도입하기"}}},{"node":{"id":"d8ca9764-c28e-5491-b2d6-0f1fe3814612","fields":{"slug":"/android-webview/"},"frontmatter":{"title":"안드로이드 WebView로 웹과 놀기"}}},{"node":{"id":"9d857459-0fd2-5d37-8f39-eceec94e02b2","fields":{"slug":"/compose-theme/"},"frontmatter":{"title":"Compose 나만의 Custom Theme 설정하기"}}},{"node":{"id":"a483c66e-f6c8-5ab3-ad60-d36392c1e724","fields":{"slug":"/compose-bezier/"},"frontmatter":{"title":"Compose에서 Bezier 곡선으로 스쿼클 만들기"}}}]},"previous":{"fields":{"slug":"/android-dagger2-more/"},"frontmatter":{"title":"안드로이드 Dagger2 좀 더 알아가기"}},"next":{"fields":{"slug":"/brute-force/"},"frontmatter":{"title":"알고리즘 완전탐색(Exhaustive search)이란"}}},"pageContext":{"id":"5eb7df8d-a6a9-5e6c-a6a8-9e79a03cf5e8","series":"Android","previousPostId":"f3e41032-8577-5a04-bb96-62be1e0aaf4b","nextPostId":"4c2618c6-2138-584d-925b-5ad902505f6b"}},"staticQueryHashes":[],"slicesMap":{}}