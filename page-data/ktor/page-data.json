{"componentChunkName":"component---src-templates-post-jsx","path":"/ktor/","result":{"data":{"site":{"siteMetadata":{"title":"ppeperğŸ¥¤"}},"markdownRemark":{"id":"1da09158-79bc-54c5-8886-5cf392f4154f","excerpt":"ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” Rest Api í†µì‹ ì„ í¸ë¦¬í•˜ê²Œ í•´ì£¼ëŠ”  ,  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©ì„ í˜„ì¬ê¹Œì§€ë„ ë§ì´ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ìµœê·¼ Kotlin Multiplatformì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ì„œ Retrofitì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë˜ì–´ ë§ë¡œë§Œ ë“£ë˜ Ktorë¥¼ ì‚´í´ë³´ê³ ì í•œë‹¤. Ktor? KtorëŠ” Kotlinìœ¼ë¡œë§Œ ì‘ì„±ëœ ê²½ëŸ‰ ì›¹ í”„ë ˆì„ì›Œí¬ì´ë‹¤.  ë”°ë¼ì„œ í”Œë«í¼ì— ì¢…ì†ì ì´ì§€ â€¦","html":"<p>ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” Rest Api í†µì‹ ì„ í¸ë¦¬í•˜ê²Œ í•´ì£¼ëŠ” <code class=\"language-text\">Retrofit2</code> , <code class=\"language-text\">Okhttp</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©ì„ í˜„ì¬ê¹Œì§€ë„ ë§ì´ ì‚¬ìš©í•˜ê³  ìˆë‹¤. ìµœê·¼ Kotlin Multiplatformì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ì„œ Retrofitì„ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë˜ì–´ ë§ë¡œë§Œ ë“£ë˜ Ktorë¥¼ ì‚´í´ë³´ê³ ì í•œë‹¤.</p>\n<h1>Ktor?</h1>\n<p>KtorëŠ” Kotlinìœ¼ë¡œë§Œ ì‘ì„±ëœ ê²½ëŸ‰ ì›¹ í”„ë ˆì„ì›Œí¬ì´ë‹¤.  ë”°ë¼ì„œ í”Œë«í¼ì— ì¢…ì†ì ì´ì§€ ì•Šê³  Multiplatform í™˜ê²½ì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.</p>\n<p>KtorëŠ” Serverì™€ Client ë‘ ëª¨ë“ˆì„ ëª¨ë‘ ì œê³µì„ í•˜ê³  ìˆìœ¼ë©° Android ë° Multiplatformì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ Client ë¶€ë¶„ì„ ì•Œì•„ë³´ë ¤ê³  í•œë‹¤.</p>\n<ol>\n<li>ë¨¼ì € ktorë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ gradleì— ë“±ë¡í•´ì¤€ë‹¤.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\">ktor <span class=\"token operator\">=</span> <span class=\"token operator\">&lt;</span>latest_version<span class=\"token operator\">></span>\n\n<span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"io.ktor:ktor-client-core:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">ktor</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"io.ktor:ktor-client-cio:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">ktor</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Ktorì—ì„œ ì§€ì›í•˜ëŠ” ì—¬ëŸ¬ ì˜µì…˜ë“¤ì´ ìˆì§€ë§Œ ê³µì‹ë¬¸ì„œì—ì„œ ë§í•˜ëŠ”  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">core</code> :  í´ë¼ì´ì–¸íŠ¸ í•¨ìˆ˜ë“¤ì„ ì œê³µí•˜ëŠ” ëª¨ë“ˆ</li>\n<li><code class=\"language-text\">CIO</code> : í”Œë«í¼ ë³„ë¡œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì—”ì§„ì— ê´€í•œ ëª¨ë“ˆ</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Engine</th>\n<th>Platforms</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Apache</td>\n<td>JVM</td>\n</tr>\n<tr>\n<td>Java</td>\n<td>JVM</td>\n</tr>\n<tr>\n<td>Jetty</td>\n<td>JVM</td>\n</tr>\n<tr>\n<td>Android</td>\n<td>JVM, Android</td>\n</tr>\n<tr>\n<td>OkHttp</td>\n<td>JVM, Android</td>\n</tr>\n<tr>\n<td>Darwin</td>\n<td>Native</td>\n</tr>\n<tr>\n<td>WinHttp</td>\n<td>Native</td>\n</tr>\n<tr>\n<td>Curl</td>\n<td>Native</td>\n</tr>\n<tr>\n<td>CIO</td>\n<td>JVM, Android, Native</td>\n</tr>\n<tr>\n<td>Js</td>\n<td>JavaScript</td>\n</tr>\n</tbody>\n</table>\n<p>ê°„ë‹¨í•œ ì˜ˆì‹œë¡œ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì—ì„œ í•„ìš”í•œ ì§ë ¬í™”ëŠ” Ktorì—ì„œ ì§ë ¬í™”/ì—­ì§ë ¬í™”ë¥¼ ìœ„í•´ì„œ ì‚¬ìš©ë˜ëŠ” <code class=\"language-text\">negotiation</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ <code class=\"language-text\">Kotlin-serialization</code> ì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­/ì‘ë‹µ ê°’ì„ íŒŒì‹±í•  ìˆ˜ ìˆê³  ì´ëŠ” KtorëŠ” HttpClient ìƒì„±í• ë•Œ <code class=\"language-text\">install</code> í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</p>\n<p><a href=\"https://ktor.io/docs/client-create-new-application.html\">(Ktor ê³µì‹ ë¬¸ì„œ</a>ì—ëŠ” ë‹¤ì–‘í•œ ì˜µì…˜, í•¨ìˆ˜ë“¤ì„ ì œê³µí•˜ê³  ìˆì–´ í•„ìš”í•œ ë‚´ìš©ì„ í•™ìŠµí•˜ê³  ì ìš©í•˜ë©´ ë ê²ƒ ê°™ë‹¤!)</p>\n<blockquote>\n<p>ğŸ’¡ ë§ì´ ì‚¬ìš©í•˜ëŠ” Retrofit2 ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ê°™ì´ ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” <a href=\"https://foso.github.io/Ktorfit/\">Ktorfit ë¼ì´ë¸ŒëŸ¬ë¦¬</a> ë„ ì§€ì›í•˜ê³  ìˆë‹¤!</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"groovy\"><pre class=\"language-groovy\"><code class=\"language-groovy\"><span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"io.ktor:ktor-client-content-negotiation:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">ktor</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token interpolation-string\"><span class=\"token string\">\"io.ktor:ktor-serialization-kotlinx-json:</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">$</span><span class=\"token expression\">ktor</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">val</span> client <span class=\"token operator\">=</span> HttpClient <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">install</span><span class=\"token punctuation\">(</span>ContentNegotiation<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">json</span><span class=\"token punctuation\">(</span>Json <span class=\"token punctuation\">{</span>\n        isLenient <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n        ignoreUnknownKeys <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token function\">install</span><span class=\"token punctuation\">(</span>HttpTimeout<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    connectTimeoutMillis <span class=\"token operator\">=</span> <span class=\"token number\">5_000L</span>\n    socketTimeoutMillis <span class=\"token operator\">=</span> <span class=\"token number\">5_000L</span>\n    requestTimeoutMillis <span class=\"token operator\">=</span> <span class=\"token number\">5_000L</span>\n\t<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ë ‡ê²Œ ìƒì„±ëœ clientë¥¼ í†µí•´ HttpRequestë“¤ì„ ë³´ë‚¼ ìˆ˜ ìˆë‹¤. ê³µì‹ë¬¸ì„œì˜ get ìš”ì²­ì„ í•˜ë‚˜ ë§Œë“¤ì–´ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token comment\">// ë§ì€ í•¨ìˆ˜ë“¤ì´ ì¡´ì¬ (ex. request, post, delete...)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">suspend</span> <span class=\"token keyword\">inline</span> <span class=\"token keyword\">fun</span> HttpClient<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n    urlString<span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    block<span class=\"token operator\">:</span> HttpRequestBuilder<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> Unit <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> HttpResponse <span class=\"token operator\">=</span> <span class=\"token keyword\">get</span> <span class=\"token punctuation\">{</span> <span class=\"token function\">url</span><span class=\"token punctuation\">(</span>urlString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token function\">block</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ktor docsë¥¼ ê°€ì ¸ì˜¤ë„ë¡ í•˜ì</span>\n<span class=\"token keyword\">suspend</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> String <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">val</span> response <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"https://ktor.io/docs\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"[Response]\\n</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token expression\">response<span class=\"token punctuation\">.</span><span class=\"token function\">bodyAsText</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"</span></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ Kotlin Multiplatform Wizardë¡œ ìƒì„±í•œ í”„ë¡œì íŠ¸ì— Desktopì—ì„œ í•´ë‹¹ ìš”ì²­ì„ ì‚¬ìš©í•´ ë³´ì!</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Composable</span>\n<span class=\"token annotation builtin\">@Preview</span>\n<span class=\"token keyword\">fun</span> <span class=\"token function\">App</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    MaterialTheme <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">var</span> showContent <span class=\"token keyword\">by</span> remember <span class=\"token punctuation\">{</span> <span class=\"token function\">mutableStateOf</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> horizontalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterHorizontally<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">Button</span><span class=\"token punctuation\">(</span>onClick <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> showContent <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>showContent <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Ktor Click me!\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token function\">AnimatedVisibility</span><span class=\"token punctuation\">(</span>showContent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">val</span> scope <span class=\"token operator\">=</span> <span class=\"token function\">rememberCoroutineScope</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">var</span> text <span class=\"token keyword\">by</span> remember <span class=\"token punctuation\">{</span> <span class=\"token function\">mutableStateOf</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"Loading\"</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span>\n                <span class=\"token function\">Column</span><span class=\"token punctuation\">(</span>\n                    Modifier<span class=\"token punctuation\">.</span><span class=\"token function\">fillMaxWidth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                    horizontalAlignment <span class=\"token operator\">=</span> Alignment<span class=\"token punctuation\">.</span>CenterHorizontally\n                <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token function\">LaunchedEffect</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                        scope<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span> <span class=\"token punctuation\">{</span>\n                            text <span class=\"token operator\">=</span> <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n\t\t                            <span class=\"token comment\">// Get ìš”ì²­ </span>\n                                <span class=\"token function\">KtorExample</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">greet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token operator\">:</span> Exception<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                                e<span class=\"token punctuation\">.</span>message <span class=\"token operator\">?:</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"UnKnown Error\"</span></span>\n                            <span class=\"token punctuation\">}</span>\n                        <span class=\"token punctuation\">}</span>\n                    <span class=\"token punctuation\">}</span>\n                    <span class=\"token function\">Text</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<img src=\"https://github.com/user-attachments/assets/48b1d777-3e20-4560-8537-5d251023b820\">\n<hr>\n<h1>References</h1>\n<ul>\n<li><a href=\"https://ktor.io/docs/welcome.html\">https://ktor.io/docs/welcome.html</a></li>\n<li><a href=\"https://foso.github.io/Ktorfit/\">https://foso.github.io/Ktorfit/</a></li>\n</ul>","frontmatter":{"title":"KMPë¥¼ ì§€ì›í•˜ëŠ” Ktor Clientë¥¼ ì‚¬ìš©í•´ë³´ì","date":"December 04, 2024","update":"December 04, 2024","tags":["Android","Kotlin Multiplatform"],"series":"Kotlin"},"fields":{"slug":"/ktor/","readingTime":{"minutes":3.8}}},"seriesList":{"edges":[{"node":{"id":"a7e9c7fb-11d9-59aa-b9c8-faef6cfcd27e","fields":{"slug":"/scope-function/"},"frontmatter":{"title":"ì½”í‹€ë¦°ì˜ Scope FunctionëŠ” ì–¸ì œì“¸ê¹Œ"}}},{"node":{"id":"995d0539-ea55-5757-b642-d423a2fef20c","fields":{"slug":"/sort/"},"frontmatter":{"title":"ì½”í‹€ë¦° ë¦¬ìŠ¤íŠ¸ ì •ë ¬í•˜ëŠ” ë°©ë²• (sort vs sortBy vs sortWith)"}}},{"node":{"id":"b0b78929-653d-5d49-a7cf-79c5069f2dab","fields":{"slug":"/generic-in-out/"},"frontmatter":{"title":"Kotlin ì œë„¤ë¦­ì˜ in, out í‚¤ì›Œë“œ?"}}},{"node":{"id":"33959bf6-d080-5100-ac93-0be970a5d159","fields":{"slug":"/flow/"},"frontmatter":{"title":"Kotlin Coroutines Flow ë§›ë³´ê¸°"}}},{"node":{"id":"770fa80e-3899-50bc-a219-6f0a4abde7eb","fields":{"slug":"/serialization/"},"frontmatter":{"title":"ì½”í‹‘ë¦°ì„ ìœ„í•œ Kotlinx Serizalization"}}},{"node":{"id":"1da09158-79bc-54c5-8886-5cf392f4154f","fields":{"slug":"/ktor/"},"frontmatter":{"title":"KMPë¥¼ ì§€ì›í•˜ëŠ” Ktor Clientë¥¼ ì‚¬ìš©í•´ë³´ì"}}}]},"previous":{"fields":{"slug":"/compose-theme/"},"frontmatter":{"title":"Compose ë‚˜ë§Œì˜ Custom Theme ì„¤ì •í•˜ê¸°"}},"next":{"fields":{"slug":"/decompose/"},"frontmatter":{"title":"Kotlin Multiplatform - Decompose"}}},"pageContext":{"id":"1da09158-79bc-54c5-8886-5cf392f4154f","series":"Kotlin","previousPostId":"9d857459-0fd2-5d37-8f39-eceec94e02b2","nextPostId":"9cf5da48-1c3d-5686-a7e7-3946667cd074"}},"staticQueryHashes":[],"slicesMap":{}}